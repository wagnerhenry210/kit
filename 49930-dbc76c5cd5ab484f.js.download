"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[49930],{547031:function(e,t,o){o.d(t,{Rj:function(){return u},T$:function(){return m}});var r=o(397458),i=o(917450),a=o.n(i);o(652983);var n=o(911763),l=o.n(n),s=o(669242),d=o(59982),c=o(777717);function u(e,t,o){var r,i,a;if(!e)return"";let{project:n,idWithoutPrefix:l}=(0,s.Z)(e),d=(null==o?void 0:o.slug)||"team"in e&&(null==e?void 0:null===(r=e.team)||void 0===r?void 0:r.slug)||(null==t?void 0:t.username)||(null==t?void 0:t.uid)||(null===(i=e.creator)||void 0===i?void 0:i.username)||(null===(a=e.creator)||void 0===a?void 0:a.uid)||null;return`/${encodeURIComponent(d)}/${encodeURIComponent(n)}/${l}`}t.ZP=e=>{let{deployment:t,host:o,alias:i,title:n,children:s}=e,d=m(t),c=o?`/deployment/redirect?host=${o}`:"";return(0,r.jsxs)("span",{className:"jsx-df72f54173f8692c link-container",children:[(0,r.jsx)(l(),{href:d||c,legacyBehavior:!0,children:(0,r.jsx)("a",{title:n,className:"jsx-df72f54173f8692c link",children:i||s||o||(null==t?void 0:t.host)||(null==t?void 0:t.url)})}),(0,r.jsx)(a(),{id:"df72f54173f8692c",children:".link.jsx-df72f54173f8692c{text-decoration:none;color:var(--geist-foreground);font-weight:500}.link-container.jsx-df72f54173f8692c:hover .link.jsx-df72f54173f8692c{text-decoration:underline}.link-container.jsx-df72f54173f8692c:hover .deployment-link-content{text-decoration:underline}"})]})};let m=e=>{let{user:t}=(0,d.a)(),{team:o}=(0,c.t7)();return u(e,t,o)}},326894:function(e,t,o){o.d(t,{DY:function(){return j},p0:function(){return z}});var r=o(397458),i=o(917450),a=o.n(i),n=o(652983),l=o(14517),s=o(172293),d=o(724543),c=o(79092),u=o(840403),m=o(943117),x=o(633725),v=o(303213),h=o(717146),f=o(591703),b=o(713536),g=o(495637),p=o(246057),w=o(2313);let k=(e,t)=>{let o=t.map(t=>e.findIndex(e=>e.uid===t.uid));return Math.max(...o)},j=(0,n.memo)(e=>{var t,o,i,a,n,l,s;let{deployment:v,size:h=24,showProviderIcon:f=!1}=e;if(null===(t=v.meta)||void 0===t?void 0:t.deployHookId)return(0,r.jsx)(c.Z,{height:h,width:h});if(null===(o=v.meta)||void 0===o?void 0:o.originalDeploymentId);else if((null===(i=v.meta)||void 0===i?void 0:i.githubDeployment)&&v.meta.githubCommitAuthorLogin)return(0,r.jsx)(u.Z,{showIcon:f,size:h,title:v.meta.githubCommitAuthorLogin,username:v.meta.githubCommitAuthorLogin});else if((null===(a=v.meta)||void 0===a?void 0:a.gitlabDeployment)&&v.meta.gitlabCommitAuthorLogin)return(0,r.jsx)(m.Z,{showIcon:f,size:h,title:v.meta.gitlabCommitAuthorLogin,url:v.meta.gitlabCommitAuthorAvatar});else if((null===(n=v.meta)||void 0===n?void 0:n.bitbucketDeployment)&&v.meta.bitbucketCommitAuthorName)return(0,r.jsx)(x.Z,{showIcon:f,size:h,title:v.meta.bitbucketCommitAuthorName,url:v.meta.bitbucketCommitAuthorAvatar});return(0,r.jsx)(d.qE,{size:h,title:null===(l=v.creator)||void 0===l?void 0:l.username,uid:null===(s=v.creator)||void 0===s?void 0:s.uid})}),y=(0,n.memo)(e=>{let{member:t,selected:o,onClick:i}=e;return(0,r.jsx)("span",{className:(0,l.W)("avatar-container",{active:o.findIndex(e=>e.uid===t.uid)>-1}),onClick:i,children:(0,r.jsx)(d.qE,{size:32,title:t.username,uid:t.uid})})}),z=(0,n.memo)(e=>{let{members:t,selected:o,setSelectedMembers:i}=e,c=(0,p.ac)(768),u=c?7:15,[m,x]=(0,n.useState)(""),j=(0,n.useCallback)(e=>{if(t.length>1){let t=o.filter(t=>t.uid!==e.uid);t.length===o.length?i([...o,e]):i(t)}},[o,i,t]),z=t.length-u,C=(0,n.useMemo)(()=>{let e=t.slice(u),i=e.filter(e=>!!(""===m||e.username.indexOf(m)>-1));if(z>0){let e=k(t,o);return(0,r.jsxs)(v.Z,{className:"extra-creators",flex:"0 0 auto",children:[(0,r.jsx)(s.C,{anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},trigger:(0,r.jsx)(v.Z,{center:!0,className:(0,l.W)("plus",{active:e>=u}),flex:"0 0 auto",children:z>10?"10+":`+${z}`}),children:(0,r.jsxs)(w.Menu,{tipOffset:4,tipSide:"right",width:200,children:[z>5?(0,r.jsx)(v.Z,{style:{padding:"0 8px"},children:(0,r.jsx)(g.Z,{onChange:e=>x(e),placeholder:"Search creators...",value:m})}):(0,r.jsx)(v.Z,{className:"creator-title",children:"Creators"}),(0,r.jsx)(w.Divider,{}),(0,r.jsx)(v.Z,{style:{maxHeight:"210px",overflow:"scroll"},children:i.length>0?i.map((e,t)=>{let i=o.findIndex(t=>t.uid===e.uid)>-1;return(0,r.jsxs)("div",{onClick:()=>j(e),className:"jsx-4037b058e93b69ab creator-row",children:[(0,r.jsx)(b.Z,{checked:i,onChange:()=>j(e)}),(0,r.jsx)(h.L,{inline:!0,x:.5}),(0,r.jsx)(d.qE,{size:24,title:e.username,uid:e.uid}),(0,r.jsx)(h.L,{inline:!0,x:.5}),(0,r.jsx)(f.ZP,{className:"geist-ellipsis",noMargin:!0,preset:"body-2",children:e.username})]},t)}):(0,r.jsx)(v.Z,{center:!0,className:"no-creator",children:"Creator not found"})})]})}),(0,r.jsx)(a(),{id:"4037b058e93b69ab",children:".extra-creators .menu .line{margin-bottom:0}.extra-creators .popover .menu{padding-bottom:0}.plus{background:var(--geist-background);font-size:12px;color:var(--accents-5);border:1px solid var(--accents-2);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:30px;height:30px;-webkit-transition:all.1s ease-out 0s;-moz-transition:all.1s ease-out 0s;-o-transition:all.1s ease-out 0s;transition:all.1s ease-out 0s}.plus:hover{color:var(--geist-foreground);border-color:var(--geist-foreground)}.plus.active{color:var(--geist-foreground);border-color:var(--geist-background);-webkit-box-shadow:var(--shadow-extra-small);-moz-box-shadow:var(--shadow-extra-small);box-shadow:var(--shadow-extra-small)}.creator-title{padding:4px 16px;color:var(--accents-5)}.creator-row{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-webkit-flex:0 0;-moz-box-flex:0;-ms-flex:0 0;flex:0 0;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:8px 16px;color:var(--accents-5);cursor:pointer;-webkit-transition:color.1s ease,background-color.1s ease;-moz-transition:color.1s ease,background-color.1s ease;-o-transition:color.1s ease,background-color.1s ease;transition:color.1s ease,background-color.1s ease}.creator-row:hover{background:var(--accents-1);color:var(--geist-foreground)}.no-creator{padding:8px;color:var(--accents-5)}"})]})}},[t,o,z,m,x,u,j]);return(0,r.jsxs)(v.Z,{className:(0,l.W)("avatars",{selected:Object.keys(o).length>0,disabled:Object.keys(t).length<2}),flex:"0 0 auto",row:!0,children:[t.slice(0,u).map((e,t)=>(0,r.jsx)(y,{member:e,onClick:()=>j(e),selected:o},t)),C,(0,r.jsx)(a(),{id:"de5cd593f1b2e48e",children:".avatars.jsx-de5cd593f1b2e48e{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-webkit-flex-flow:row-reverse;-moz-box-orient:horizontal;-moz-box-direction:reverse;-ms-flex-flow:row-reverse;flex-flow:row-reverse;cursor:pointer}.avatar-container{cursor:pointer;position:relative;width:32px;height:32px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-transition:-webkit-transform.1s ease-out 0s;-moz-transition:-moz-transform.1s ease-out 0s;-o-transition:-o-transform.1s ease-out 0s;transition:-webkit-transform.1s ease-out 0s;transition:-moz-transform.1s ease-out 0s;transition:-o-transform.1s ease-out 0s;transition:transform.1s ease-out 0s;will-change:transform,z-index}.avatar-container:not(:last-child){margin-right:-8px}.selected .avatar-container img{opacity:.5}.avatars:not(.disabled) .avatar-container:hover{z-index:9;-webkit-transform:translate3d(0,-4px,0);-moz-transform:translate3d(0,-4px,0);transform:translate3d(0,-4px,0);opacity:1}.avatar-container:hover img{opacity:1}.avatar-container.active{opacity:1;-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;-webkit-box-shadow:var(--shadow-extra-small);-moz-box-shadow:var(--shadow-extra-small);box-shadow:var(--shadow-extra-small)}.avatar-container.active img{opacity:1}.avatars .active .avatar{border:1px solid white}.avatars.jsx-de5cd593f1b2e48e:hover>*:not(.active :hover){opacity:.5}"})]})})},79092:function(e,t,o){o.d(t,{Z:function(){return i}});var r=o(397458);function i(e){let{width:t=24,height:o=24,style:i}=e;return(0,r.jsxs)("svg",{fill:"none",height:o,style:{border:"1px solid var(--accents-2)",borderRadius:"100%",boxSizing:"border-box",...i},viewBox:"0 0 24 24",width:t,children:[(0,r.jsx)("path",{clipRule:"evenodd",d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12z",fill:"#000",fillRule:"evenodd"}),(0,r.jsx)("path",{clipRule:"evenodd",d:"M12.24 6.24L18 16.378H6.48L12.24 6.24z",fill:"#fff",fillRule:"evenodd"})]})}o(652983)},254048:function(e,t,o){o.d(t,{V:function(){return m},Z:function(){return x}});var r=o(652983),i=o(296638),a=o(512959),n=o(251743),l=o(73796),s=o(294541),d=o(818065),c=o(86296),u=o(777717);function m(e){var t,o;let{limit:i,project:m,projectId:x,requireProject:v,users:h,target:f,state:b,meta:g,rollbackCandidate:p,since:w,until:k}=e,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v6",{isReady:z,team:C}=(0,u.t7)(),Z=h&&h.length>0?h.map(e=>e.uid).join(","):null,I=(null==m?void 0:m.id)||x,N={projectId:I,limit:i,teamId:null==C?void 0:C.id,target:f||null,users:Z,state:b,meta:g,rollbackCandidate:p,since:w,until:k},{value:P}=(0,d.q2)(),{value:$}=(0,c.R4)(),A=v||(P||$)&&void 0!==p&&(!C||(null===(t=C.billing)||void 0===t?void 0:t.plan)==="hobby"),L=(0,a.ZP)((e,t)=>{if(A&&!I)return null;if(!e)return z?`${(0,l.PP)(y)}${(0,s.c)(N)}`:null;let o=t&&t.deployments.length>=i?t.deployments[t.deployments.length-1].created-1:null;return o&&z?`${(0,l.PP)(y)}${(0,s.c)({...N,from:o})}`:null},e=>(0,n.I)(e,{throwOnHTTPError:!0}),j),R=(0,r.useMemo)(()=>L.data?L.data.map(e=>e.deployments).flat():[],[L.data]),M=!!L.data,O=M&&0===R.length,E=M&&L.data&&L.size>L.data.length,D=M&&L.data&&(null===(o=L.data[L.data.length-1])||void 0===o?void 0:o.deployments.length)<i;return[L,{deployments:R,initialDataLoaded:M,isEmpty:O,loadMore:()=>L.setSize(e=>e+1),isLoadingMore:E,isReachingEnd:D,mutate:L.mutate}]}function x(e){let{limit:t,projectId:o,project:r,from:a,target:d,users:c=[],...m}=e,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v6",{isReady:h,team:f}=(0,u.t7)(),b=c.length>0?c.map(e=>e.uid).join(","):null;return(0,i.ZP)(()=>h&&t>0?`${(0,l.PP)(v)}${(0,s.c)({projectId:o||(null==r?void 0:r.id),limit:t,from:a||null,teamId:null==f?void 0:f.id,target:d,users:b,...m})}`:null,e=>(0,n.I)(e,{throwOnHTTPError:!0}),x)}}}]);