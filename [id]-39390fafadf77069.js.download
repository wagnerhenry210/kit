(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41257,70950],{2298:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[teamSlug]/[project]/[id]",function(){return n(171107)}])},842528:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var i=n(397458),l=n(652983),r=n(869480),s=n.n(r),o=n(557626),a=n(804369),c=n(106193),d=n(717146),u=n(563790),h=n(582599),p=(0,l.memo)(e=>{let{active:t,url:n,onCancel:r}=e,[s,o]=(0,l.useState)(""),p=(0,l.useMemo)(()=>!s||s.includes(".")||!(0,a.isValid)(`${s}.${n}`),[s,n]),m=(0,l.useCallback)(()=>{o(""),r()},[r]),x=(0,l.useCallback)(e=>{e.preventDefault(),window.open((0,h.j)(`${s}.${n}`),"_blank","noopener"),m()},[s,n,m]);return n?(0,i.jsx)(c.Modal,{active:t,onClickOutside:m,children:(0,i.jsxs)("form",{onSubmit:x,children:[(0,i.jsxs)(c.Body,{children:[(0,i.jsx)(c.Title,{children:"Wildcard Domain"}),(0,i.jsx)(d.L,{}),(0,i.jsx)(c.Subtitle,{children:"Enter a subdomain to visit below."}),(0,i.jsx)(d.L,{y:.75}),(0,i.jsx)(u.I,{autoFocus:!0,id:"hostname",label:"Hostname",onChange:e=>o(e.target.value),suffix:`.${n}`,value:s})]}),(0,i.jsxs)(c.Actions,{children:[(0,i.jsx)(c.Action,{onClick:r,children:"Cancel"}),(0,i.jsx)(c.Action,{buttonType:"submit",disabled:p,children:"Visit"})]})]})}):null}),m=n(129730),x=n(728947),g=n(447527),y=n.n(g);let j=e=>{let{url:t,showIcon:n=!0,...r}=e,[s,a]=(0,m.Z)("#wildcard"),[c,d]=(0,l.useState)(null),[u,g]=(0,l.useState)(!1),j=(0,l.useCallback)(()=>{let e=(0,x.Z)(t)?t.slice(2):t;d(e),a(!0)},[d,a,t]);return t?(0,x.Z)(t)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.r,{className:y().aliasLink,onClick:j,...r,onMouseEnter:()=>g(!0),style:{minWidth:0,maxWidth:r.truncate?"100%":void 0},children:r.truncate?(0,i.jsx)("span",{className:"geist-ellipsis",children:t}):t}),u||s?(0,i.jsx)(p,{active:s,onCancel:()=>a(!1),url:c}):null]}):(0,i.jsx)(o.r,{className:y().aliasLink,external:!0,href:(0,h.j)(t),icon:n,...r,style:{minWidth:0,maxWidth:r.truncate?"100%":void 0},children:r.truncate?(0,i.jsx)("span",{className:"geist-ellipsis",children:t}):t}):null};j.propTypes={url:s().string.isRequired,icon:s().bool,color:s().bool};var f=(0,l.memo)(j)},649142:function(e,t,n){"use strict";var i=n(397458),l=n(46838),r=n(614029),s=n(373593),o=n(172293),a=n(177281),c=n(246057),d=n(842528),u=n(2313);function h(e){let{hidden:t,showIcon:n=!0}=e;return(0,i.jsx)(i.Fragment,{children:t.map(e=>(0,i.jsx)("div",{children:(0,i.jsx)(d.Z,{showIcon:n,title:e,truncate:!0,url:e})},e))})}function p(e){let{hidden:t}=e,n=(0,c.ac)(690);return void 0===n?null:n?(0,i.jsx)(o.C,{anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},trigger:(0,i.jsx)(s.C,{children:`+${t.length}`}),children:(0,i.jsx)(u.Menu,{style:{position:"relative",top:"20px"},tipOffset:4,tipSide:"right",width:"300px",children:(0,i.jsx)(l.K,{style:{maxHeight:"210px",overflow:"scroll",padding:"0 8px",fontWeight:400},children:(0,i.jsx)(h,{hidden:t})})})}):(0,i.jsx)(a.Z,{text:(0,i.jsx)(h,{hidden:t}),children:(0,i.jsx)(s.C,{children:`+${t.length}`})})}t.Z=function(e){let{className:t,domains:n,firstOnly:s,showIcon:o=!0,style:a}=e;if(!n)return(0,i.jsx)(r.x,{as:"span",className:t,color:"accents-3",style:a,weight:400,children:"-"});let{visible:c,hidden:u}=n.reduce((e,t)=>0===e.visible.length||!s&&1===e.visible.length&&e.visible[0].length<=20?(e.visible.push(t),e):(e.hidden.push(t),e),{visible:[],hidden:[]});return(0,i.jsx)(r.x,{as:"span",className:t,weight:500,children:(0,i.jsxs)(l.K,{align:"center",direction:"row",gap:3,style:{display:"flex",maxWidth:"100%",alignItems:"stretch",...a},children:[c.map((e,t)=>{let n=t===c.length-1;return(0,i.jsx)(d.Z,{showIcon:o,style:{marginRight:n?void 0:"var(--geist-gap-half)",minWidth:0},truncate:!0,url:e},e)}),u.length?(0,i.jsx)(p,{hidden:u}):null]})})}},841907:function(e,t,n){"use strict";n.d(t,{G:function(){return i}});let i=!0},109022:function(e,t,n){"use strict";n.d(t,{B8:function(){return a},D9:function(){return s},Er:function(){return o},uX:function(){return r}});var i=n(764653),l=n(244140);let r=()=>{var e;let{team:t}=(0,l.Z)();if(null===t)return!1;let n=(null===(e=t.billing)||void 0===e?void 0:e.plan)==="enterprise";return n||(0,i.X)(t,"passwordProtection")},s=e=>{let{deployment:t,project:n}=e;if(!t||!n)return{isLoading:!0,protectionEnabledForDeployment:null,protectionEnabledForProject:null,productionProtectionEnabled:null};let{passwordProtection:i,ssoProtection:l,trustedIps:r}=n,s="production"!==t.target,o=(null==i?void 0:i.deploymentType)==="all"||s&&(null==i?void 0:i.deploymentType)==="preview",a=(null==l?void 0:l.deploymentType)==="all"||s&&(null==l?void 0:l.deploymentType)==="preview",c=(null==r?void 0:r.deploymentType)==="all"||s&&(null==r?void 0:r.deploymentType)==="preview",d=(null==i?void 0:i.deploymentType)==="all"||(null==l?void 0:l.deploymentType)==="all"||(null==r?void 0:r.deploymentType)==="all";return{productionProtectionEnabled:d,protectionEnabledForProject:!!(i||l||r),protectionEnabledForDeployment:o||a||c,isLoading:!1}},o=e=>{let{team:t,user:n,projectName:i}=e,l=(null==t?void 0:t.slug)||(null==n?void 0:n.username);return l&&i?`/${l}/${i}/settings/deployment-protection`:""},a=e=>{let{team:t}=e;return t?`/teams/${t.slug}/settings/general#preview-comments`:"/account/general#preview-comments"}},760934:function(e,t,n){"use strict";n.d(t,{A:function(){return b}});var i=n(397458),l=n(875770),r=n(46838),s=n(652983),o=n(37663),a=n(381828),c=n(49623),d=n(875430),u=n(885096),h=n(557626),p=n(445458),m=n(177281),x=n(547031),g=n(569736),y=n.n(g);function j(){return(0,i.jsx)(l.O,{boxHeight:22,height:14,width:100})}function f(e){let t,n,{deployUrl:l="",meta:x,source:g="git",gap:f=1}=e,b=!x,v=(0,s.useMemo)(()=>(0,u.ao)(x),[x]),w=`${l}/source`;if(t=b?(0,i.jsx)(j,{}):v?(0,i.jsxs)("div",{className:y().line,children:[(0,i.jsx)(o.X,{size:16}),(0,i.jsx)(h.r,{href:v.branchUrl,title:"Git Branch",children:(0,i.jsx)(p.Z,{noWrap:!0,children:v.branchName})})]}):(0,i.jsxs)("div",{className:y().line,children:[(0,i.jsx)(a.E,{size:16}),(0,i.jsx)(h.r,{href:w,children:(0,i.jsx)("span",{children:"View code"})})]}),b)n=(0,i.jsx)(j,{});else if(v){let e="1"===v.gitDirty,t=v.sha.substring(0,7),l=v.commitMessage;n=(0,i.jsxs)("div",{className:y().line,children:["cli"===g?(0,i.jsx)(d.o,{size:16}):(0,i.jsx)(c.a,{size:16}),(0,i.jsxs)(h.r,{href:e?w:v.commitUrl,title:"Git Commit",children:[e?(0,i.jsx)(m.Z,{className:y().dirty,desktopOnly:!0,invert:!1,text:(0,i.jsxs)("span",{children:["Based on commit ",(0,i.jsx)("code",{children:t})," with additional modifications"]}),children:(0,i.jsx)(p.Z,{noWrap:!0,children:t})}):(0,i.jsx)(p.Z,{noWrap:!0,children:t}),(0,i.jsx)("span",{title:l,children:l.length>70?`${l.substring(0,70)}â€¦`:l})]})]})}else n=(0,i.jsxs)("div",{className:y().line,children:[(0,i.jsx)(d.o,{size:16}),(0,i.jsx)(h.r,{href:"/docs/cli/deploy",title:"Vercel CLI Docs",children:(0,i.jsx)(p.Z,{noWrap:!0,children:"vercel deploy"})})]});return(0,i.jsxs)(r.K,{className:y().deploymentSourceLinks,gap:f,children:[t,n]})}let b=(0,s.memo)(function(e){let{deployment:t,gap:n}=e,l=(0,x.T$)(t),r=t&&"source"in t?t.source:void 0;return(0,i.jsx)(f,{deployUrl:l,gap:n,meta:null==t?void 0:t.meta,source:r})})},959304:function(e,t,n){"use strict";n.d(t,{b:function(){return eh}});var i=n(397458),l=n(652983),r=n(718709),s=n(730531),o=n(690854),a=n(642518),c=n(46838),d=n(614029),u=n(115633),h=n(106193),p=n(437296),m=n(23669),x=n(723957),g=n(157035),y=n(772713),j=n(240930),f=n(388757),b=n(424900),v=n(85926),w=n.n(v);function k(e){let{className:t,label:n,labelPadding:l=7,labelSize:r=14,size:s=22,status:o}=e,a=(0,b.Z)(s);return(0,i.jsxs)("div",{className:`${w().wrapper} ${t||""}`,style:{height:a},children:["loading"===o&&(0,i.jsx)(f.$,{size:s}),"error"===o&&(0,i.jsx)(y.a,{color:"var(--geist-error)",fill:!0,size:s}),"success"===o&&(0,i.jsx)(j.I,{color:"var(--geist-success)",fill:!0,size:s}),n?(0,i.jsx)(d.x,{as:"span",size:r,style:{lineHeight:a,paddingLeft:(0,b.Z)(l)},children:n}):null]})}var _=n(296638),C=n(251743),E=n(73796),N=n(294541),P=n(777717),D=n(512959),I=n(574224),Z=n(742100),R=n(15129),S=n(242598),L=n.n(S),T=n(778069),$=n.n(T),A=n(818065),O=n(86296),M=n(866074),z=n(308908),W=n(37663),B=n(557626),F=n(547031),H=n(71908),U=n(736656),K=n(402808),V=n(326894),Y=n(548377),G=n.n(Y);function q(e){let{isForm:t,children:n,className:l}=e;return t?(0,i.jsx)("label",{className:l,children:n}):(0,i.jsx)("div",{className:l,children:n})}function X(e){var t,n;let{deployment:l,isForm:r,isPreviousDeployment:s,isProductionDeployment:o,selectedDeployment:a,setSelectedDeployment:c}=e,u=(0,U.R)(l.createdAt||0),h=(0,F.T$)(l),p=(0,H.S)(l),m="Preview";if("target"in l)switch(l.target){case"staging":m="Staging";break;case"production":m="Production";break;default:m="Preview"}else m="Production";let x="uid"in l?l.uid:l.id,g="";return"target"in l&&(g=(0,K.Ez)(l)||"&mdash;"),(0,i.jsxs)(q,{className:`${G().card} ${o?G().current:""}`,isForm:r,children:[r?(0,i.jsx)("input",{"aria-label":"Rollback Deployment",checked:(null==a?void 0:a.uid)===x,className:G().input,name:"rollbackDeployment",onChange:()=>{"uid"in l&&"type"in l&&c(l)},type:"radio",value:x}):null,!r&&o?(0,i.jsx)(y.a,{className:G().icon,fill:!0,size:16,style:{flexShrink:0}}):null,!r&&!o&&(0,i.jsx)(z.b,{className:G().icon,color:"var(--geist-success)",size:16,style:{flexShrink:0}}),(0,i.jsxs)("div",{children:[(0,i.jsx)(B.r,{className:G().deploymentLink,href:h,target:"_blank",children:(0,i.jsx)(d.x,{as:"span",title:l.url,truncate:1,weight:700,children:l.url})}),(null==p?void 0:p.commitMessage)?(0,i.jsx)(d.x,{as:"p",color:"accents-5",size:14,title:p.commitMessage,truncate:1,weight:500,children:p.commitMessage}):null,(0,i.jsxs)("div",{className:G().branch,children:[(0,i.jsxs)(d.x,{as:"span",color:"accents-5",size:14,style:{marginRight:"4px"},children:[m," "]}),(null==p?void 0:p.commitRef)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(W.X,{color:"accents-5",size:16}),(0,i.jsx)(d.x,{as:"span",className:G().code,title:p.commitRef,children:p.commitRef}),(0,i.jsx)(d.x,{as:"span",color:"accents-5",children:"by"}),(0,i.jsxs)("div",{className:G().gitAvatar,children:[(0,i.jsx)(d.x,{as:"span",color:"accents-5",children:(null===(t=l.meta)||void 0===t?void 0:t.originalDeploymentId)||!p.commitAuthorLogin?null===(n=l.creator)||void 0===n?void 0:n.username:p.commitAuthorLogin}),(0,i.jsx)(V.DY,{deployment:l,size:16})]})]}):null]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)(d.x,{as:"span",color:"accents-5",size:14,children:["Deployed"," "]}),(0,i.jsx)(d.x,{as:"span",color:"accents-5",size:14,weight:500,children:u}),(0,i.jsxs)(d.x,{as:"span",color:"accents-5",size:14,children:[","," "]}),"target"in l?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.x,{as:"span",color:"accents-5",size:14,children:["live for"," "]}),(0,i.jsx)(d.x,{as:"span",color:"accents-5",size:14,weight:600,children:g})]}):(0,i.jsx)(d.x,{as:"span",color:"accents-5",size:14,weight:600,children:"Currently Live"})]})]}),o?(0,i.jsx)(d.x,{as:"div",className:G()["badge-current"],children:"Current"}):null,s?(0,i.jsx)(d.x,{as:"div",className:G()["badge-previous"],children:"Previous"}):null]})}var J=n(649142),Q=n(497668),ee=n.n(Q);function et(){return(0,i.jsx)(h.Header,{children:(0,i.jsx)(h.Title,{center:!0,children:"Instant Rollback"})})}function en(e){let{setStage:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h.Body,{children:[(0,i.jsx)(et,{}),(0,i.jsx)(d.x,{as:"p",style:{marginBottom:"24px"},children:"Error: You must select a deployment to roll back."})]}),(0,i.jsx)(h.Actions,{children:(0,i.jsx)(h.Action,{fullWidth:!0,onClick:()=>{t("initial")},type:"secondary",children:"Back"})})]})}function ei(){return(0,i.jsx)("div",{style:{marginBottom:"24px"},children:(0,i.jsx)(R.Z,{className:L()["warning-note"],fill:!0,label:!1,type:"warning",variant:"contrast",children:(0,i.jsxs)(c.K,{align:"center",direction:"row",gap:4,style:{padding:4},children:[(0,i.jsx)(s.u,{fill:!0,size:"16",style:{flexShrink:0}}),(0,i.jsxs)(c.K,{align:"start",children:[(0,i.jsx)(d.x,{as:"p",color:"inherit",children:"Make sure the domains listed above are correct."}),(0,i.jsx)(d.x,{as:"p",color:"inherit",children:"This deployment has custom aliases not included in the project's domain settings."})]})]})})})}function el(e){let{deployments:t,previousDeployment:n,productionDeployment:l,selectedDeployment:r,setSelectedDeployment:s,swr:o}=e;return(0,i.jsxs)(i.Fragment,{children:[t.map(e=>l.id!==e.uid&&(0,i.jsx)(X,{deployment:e,isForm:!0,isPreviousDeployment:n.uid===e.uid,selectedDeployment:r,setSelectedDeployment:s},e.uid)),!o.isReachingEnd&&(0,i.jsx)(m.z,{className:ee()["choose-deployment-btn"],loading:o.isLoadingMore,onClick:()=>{o.loadMore()},variant:"ghost",children:"Show More"})]})}function er(e){var t;let{hasFloatingAliases:n,onCancel:r,previousDeployment:s,productionAliases:u,productionDeployment:x,rollbackCandidates:y,setStage:j,selectedDeployment:f,setSelectedDeployment:b,deploymentSwr:v}=e,w=(0,M.M)("/[teamSlug]"),[k,_]=(0,l.useState)(!1),{team:C}=(0,P.t7)(),E=!C||(null===(t=C.billing)||void 0===t?void 0:t.plan)==="hobby",{value:N}=(0,A.q2)(),{value:D}=(0,O.R4)();return y.length&&s&&f?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h.Body,{children:[(0,i.jsx)(et,{}),(0,i.jsxs)(d.x,{as:"p",style:{marginBottom:"24px"},children:["Roll back",(0,i.jsx)(J.Z,{domains:u,firstOnly:!0,style:{display:"inline-flex",fontWeight:"bold",marginLeft:"5px"}})]}),n?(0,i.jsx)(ei,{}):null,(0,i.jsx)(X,{deployment:x,isProductionDeployment:!0,selectedDeployment:f,setSelectedDeployment:b}),(0,i.jsx)(d.x,{as:"p",style:{marginBottom:"24px",marginTop:"24px"},children:"To the following deployment:"}),k?(0,i.jsx)(el,{deployments:y,previousDeployment:s,productionDeployment:x,selectedDeployment:f,setSelectedDeployment:b,swr:v}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(X,{deployment:f,isForm:k,isPreviousDeployment:f.uid===s.uid,selectedDeployment:f,setSelectedDeployment:b}),(N||D)&&E?(0,i.jsx)(c.K,{style:{marginTop:"24px"},children:(0,i.jsx)(R.Z,{className:$()["info-note"],fill:!0,label:!1,variant:"contrast",children:(0,i.jsxs)(c.K,{align:"center",direction:"row",gap:4,style:{padding:1},children:[(0,i.jsx)(o.H,{size:"16",style:{flexShrink:0}}),(0,i.jsxs)(c.K,{align:"start",direction:"column",children:[(0,i.jsx)(d.x,{as:"p",color:"inherit",weight:600,children:"Looking for an earlier deployment?"}),(0,i.jsxs)("div",{children:[(0,i.jsx)(g.r,{className:$()["info-note-link"],href:"/"===w?"/dashboard?createTeam=instant-rollback":`${w}?upgradeTeam=instant-rollback`,target:"_blank",children:(0,i.jsx)(d.x,{as:"span",color:"inherit",children:"Upgrade to Pro"})}),(0,i.jsx)(a.d,{size:14,style:{margin:"-1px 4px",flexShrink:0}}),(0,i.jsx)(d.x,{as:"span",color:"inherit",style:{whiteSpace:"nowrap"},children:"to roll back to an earlier deployment"})]})]})]})})}):(0,i.jsx)(m.z,{className:ee()["choose-deployment-btn"],onClick:()=>{_(!0)},variant:"ghost",children:"Choose another deployment"})]})]}),(0,i.jsxs)(h.Actions,{children:[(0,i.jsx)(h.Action,{onClick:r,type:"secondary",children:"Cancel"}),(0,i.jsx)(h.Action,{"data-testid":(0,p.C)("deployment","rollback-modal","continue-button"),onClick:()=>{j("selected")},children:"Continue"})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h.Body,{children:[(0,i.jsx)(et,{}),(0,i.jsx)(d.x,{as:"p",children:"This project does not have any valid deployments to roll back to."})]}),(0,i.jsx)(h.Actions,{children:(0,i.jsx)(h.Action,{onClick:r,type:"secondary",children:"Cancel"})})]})}function es(e){let{hasFloatingAliases:t,productionAliases:n,productionDeployment:l,productionBranch:r,rollbackCandidates:o,selectedDeployment:u,setSelectedDeployment:m,setStage:y,requestRollback:j}=e;if(!u)return(0,i.jsx)(en,{setStage:y});let f=r?`This rollback will be replaced by the next merge to ${r}.`:"This rollback will be replaced by the next production deployment.";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h.Body,{children:[(0,i.jsx)(et,{}),(0,i.jsxs)(c.K,{gap:6,children:[(0,i.jsxs)(d.x,{as:"p",children:["Roll back"," ",(0,i.jsx)(J.Z,{domains:n,style:{display:"inline-flex",fontWeight:"bold"}})]}),t?(0,i.jsx)(ei,{}):null,(0,i.jsx)(X,{deployment:l,isProductionDeployment:!0,selectedDeployment:u,setSelectedDeployment:m}),(0,i.jsx)(d.x,{as:"p",children:"To the following deployment:"}),(0,i.jsx)(X,{deployment:u,isPreviousDeployment:u.uid===o[0].uid,selectedDeployment:u,setSelectedDeployment:m}),(0,i.jsxs)(x.UL,{className:ee()["warning-list"],children:[(0,i.jsx)(x.LI,{children:"Instant Rollback assigns domains to a previous deployment. All Environment Variables from the original build will remain."}),(0,i.jsxs)(x.LI,{children:[(0,i.jsxs)(g.r,{className:ee()["deployment-link"],href:`https://${u.url}`,target:"_blank",children:["View selected deployment"," ",(0,i.jsx)(a.d,{color:"geist-success",size:14,style:{flexShrink:0}})]})," ","before rolling backâ€”external APIs, databases, and CMS platforms may not behave as expected."]})]}),(0,i.jsx)(R.Z,{className:L()["warning-note"],fill:!0,label:!1,type:"warning",variant:"contrast",children:(0,i.jsxs)(c.K,{align:"center",direction:"row",gap:4,style:{padding:1},children:[(0,i.jsx)(s.u,{fill:!0,size:"16",style:{flexShrink:0}}),(0,i.jsxs)(c.K,{align:"start",children:[(0,i.jsx)(d.x,{as:"p",color:"inherit",children:f}),(0,i.jsxs)(g.r,{className:L()["warning-note-link"],href:"https://vercel.com/docs/concepts/deployments/instant-rollback",target:"_blank",children:[(0,i.jsx)(d.x,{as:"span",color:"inherit",weight:600,children:"Learn more about Instant Rollback"}),(0,i.jsx)(a.d,{size:14,style:{flexShrink:0}})]})]})]})})]})]}),(0,i.jsxs)(h.Actions,{children:[(0,i.jsx)(h.Action,{onClick:()=>{y("initial")},type:"secondary",children:"Back"}),(0,i.jsx)(h.Action,{"data-testid":(0,p.C)("deployment","rollback-modal","rollback-button"),onClick:()=>{j(u.uid),y("processing")},children:"Confirm Rollback"})]})]})}function eo(e){let{jobStatus:t,rollbackDeploymentId:n,rollbackCandidates:r,selectedDeployment:s,setStage:o,onCancel:a,statusSwr:c,requestRollback:u}=e;return((0,l.useEffect)(()=>{n===(null==s?void 0:s.uid)&&("failed"===t?o("error"):"succeeded"===t&&o("done"))},[n,t,s,o]),s)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h.Body,{children:[(0,i.jsx)(et,{}),(0,i.jsxs)(d.x,{as:"p",style:{marginBottom:"24px"},children:["Assigning ",(0,i.jsx)("strong",{children:"Production"})," Domains:"]}),(0,i.jsx)(X,{deployment:s,isPreviousDeployment:s.uid===r[0].uid,selectedDeployment:s,setSelectedDeployment:()=>null}),(0,i.jsxs)(x.UL,{className:ee()["alias-list"],children:[c.aliases.map(e=>{let t="loading";return"completed"===e.status?t="success":"failed"===e.status&&(t="error"),(0,i.jsx)(x.LI,{children:(0,i.jsx)(k,{label:e.alias,labelPadding:"18px",status:t})},e.alias)}),!c.isReachingEnd&&c.initialDataLoaded?(0,i.jsx)(x.LI,{children:(0,i.jsx)(m.z,{className:ee()["choose-deployment-btn"],loading:c.isLoadingMore,onClick:()=>{c.loadMore()},variant:"ghost",children:"Show More"})}):null]})]}),(0,i.jsx)(h.Actions,{children:(0,i.jsx)(h.Action,{"data-testid":(0,p.C)("deployment","rollback-modal","finish-button"),fullWidth:!0,loading:"failed"!==t&&"succeeded"!==t,onClick:()=>{"failed"===t?u(s.uid):"succeeded"===t&&(o("initial"),a())},children:"failed"===t?"Retry":"Done"})})]}):(0,i.jsx)(en,{setStage:o})}function ea(e){let{active:t,initialSelectedDeployment:n,onCancel:r,productionBranch:s,productionDeployment:o,projectId:a,rollbackCandidates:c,swr:d}=e,[m,x]=(0,l.useState)("initial"),{isReady:g,team:y}=(0,P.t7)(),j=(0,u.e1)(),f=(0,l.useMemo)(()=>{if(c.length)return c[0].uid!==o.id?c[0]:c[1]},[c,o]),[b,v]=(0,l.useState)(null);(0,l.useEffect)(()=>{v(n||f||null)},[n,f]);let w=(0,l.useCallback)(x,[x]),k=(0,l.useCallback)(v,[v]),[,{aliases:R}]=(0,I.k)({rollbackDeploymentId:o.id}),{data:S}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,{isReady:n,team:i}=(0,P.t7)();return(0,_.ZP)(()=>n?`${(0,E.Z8)(e)}${(0,N.c)({teamId:null==i?void 0:i.id,rollbackInfo:!0})}`:null,e=>(0,C.I)(e,{throwOnHTTPError:!0}),{refreshInterval:t})}(a,500),{lastRollbackTarget:L,hasFloatingAliases:T}=S||{lastRollbackTarget:null,hasFloatingAliases:!1},{toDeploymentId:$,jobStatus:A}=L||{toDeploymentId:null,jobStatus:null},[,O]=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,{isReady:r,team:s}=(0,P.t7)(),o=(0,D.ZP)((t,n)=>{if(!r)return null;let l={teamId:null==s?void 0:s.id,limit:i};return t?(null==n?void 0:n.next)?`${(0,E.Ew)(e)}${(0,N.c)({...l,until:n.next})}`:null:`${(0,E.Ew)(e)}${(0,N.c)(l)}`},e=>(0,C.I)(e,{throwOnHTTPError:!0}),{refreshInterval:n}),a=(0,l.useMemo)(()=>o.data?[].concat(...o.data.filter(Boolean).map(e=>e.aliases.slice(0,i))):[],[o.data,i]),c=!!o.data,d=c&&0===a.length,u=c&&o.data&&o.size>o.data.length,h=c&&o.data&&(null===(t=o.data[o.data.length-1])||void 0===t?void 0:t.aliases.length)<i;return[o,{aliases:a,initialDataLoaded:c,isEmpty:d,loadMore:()=>o.setSize(e=>e+1),isLoadingMore:u,isReachingEnd:h,mutate:o.mutate}]}(a,2e3),M=(0,l.useMemo)(()=>o,[t]),z=()=>{x("initial"),v(n||f||null),r()},W=(0,l.useCallback)(async e=>{if(!g)return;let t=`${(0,E.ix)(a,e)}${(0,N.c)({teamId:null==y?void 0:y.id})}`;try{await (0,C.I)(t,{throwOnHTTPError:!0,method:"POST",body:{}})}catch(e){j.error({text:"Something went wrong - please try requesting an Instant Rollback again",key:"rollback-deployment"}),(0,Z.captureError)(e)}},[g,a,null==y?void 0:y.id,j]),B={rollbackDeploymentId:$,hasFloatingAliases:!!T,jobStatus:A,onCancel:z,previousDeployment:f,productionBranch:s,productionDeployment:M,productionAliases:R.map(e=>{let{alias:t}=e;return t}),projectId:a,rollbackCandidates:c,setStage:w,selectedDeployment:b,setSelectedDeployment:k,deploymentSwr:d,statusSwr:O,requestRollback:W};return(0,i.jsxs)(h.Modal,{active:t,"data-testid":(0,p.C)("deployment","rollback-modal"),onClickOutside:z,sticky:!0,width:"500px",children:["initial"===m&&(0,i.jsx)(er,{...B}),"selected"===m&&(0,i.jsx)(es,{...B}),["processing","error","done"].includes(m)&&(0,i.jsx)(eo,{...B})]})}var ec=n(254048),ed=n(475846);function eu(e){if(!e)return;if("id"in e==!1)return e;let{aliasAssigned:t,aliasError:n=null,aliasAssignedAt:i,buildingAt:l,created:r=e.createdAt,createdAt:s,creator:o,name:a,ready:c,state:d="BUILDING",target:u=null,uid:h=e.id,url:p,isRollbackCandidate:m="production"===e.target}=e;return{aliasAssigned:t,aliasError:n,aliasAssignedAt:i,buildingAt:l,created:r,createdAt:s,creator:{email:"",githubLogin:"",...o},name:a,ready:c,state:d,target:u,type:"LAMBDAS",uid:h,url:p,isRollbackCandidate:m}}function eh(e){var t,n;let{onClose:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[o,a]=(0,l.useState)(!1),[c,d]=(0,l.useState)(),{team:u}=(0,P.t7)(),h=!u||(null===(t=u.billing)||void 0===t?void 0:t.plan)==="hobby",{value:p}=(0,A.q2)(),{value:m}=(0,O.R4)(),x=p||m,{deployment:g,mutate:y,isLoading:j}=(0,r.s)(null==e?void 0:e.id),{can:f}=(0,ed.ZP)({projectId:null==e?void 0:e.id}),b=f(ed.aU.Create,ed._z.DeploymentRollback),v=(null==e?void 0:null===(n=e.link)||void 0===n?void 0:n.productionBranch)?e.link.productionBranch:void 0,[w,k]=(0,ec.V)({projectId:e?e.id:"",limit:10,rollbackCandidate:!0},{}),{deployments:_,initialDataLoaded:C}=k,E=!!(C&&e&&!_.length),N=(0,l.useCallback)(e=>{d(eu(e)),a(!0)},[]),D=(0,l.useCallback)(()=>{a(!1),y().finally(()=>null),null==s||s()},[y,s]),I=(0,l.useCallback)(e=>{let t=eu(e),n=h&&!(null==t?void 0:t.isRollbackCandidate);if(E)return"There are no previous deployments to roll back to.";if(t){if(j)return"Loading...";if(t.uid===(null==g?void 0:g.id))return"This Deployment is already in Production.";if(x){if(!t.isRollbackCandidate&&"production"!==t.target)return"Only Deployments previously aliased to a Production domain can be rolled back.";if(n)return"Hobby customers can only roll back to the previous deployment."}else if(!t.isRollbackCandidate)return"Only Deployments previously aliased to a Production domain can be rolled back."}return""},[E,j,g,h,x]),Z=(0,l.useMemo)(()=>b&&o&&g&&e?(0,i.jsx)(ea,{active:o,initialSelectedDeployment:c,onCancel:D,productionBranch:v,productionDeployment:g,projectId:e.id,rollbackCandidates:_,swr:k}):null,[b,o,c,v,g,_,e,k,D]);return{rollbackModal:Z,closeRollbackModal:D,openRollbackModal:N,getRollbackTooltip:I,canRollbackDeployment:b,noRollbackCandidates:E}}},342056:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var i=n(397458),l=n(652983),r=n(665759),s=n(878191),o=n(303213),a=n(591703),c=n(557626),d=n(717146),u=n(713536),h=n(106193),p=n(155593),m=n(115633),x=n(405811),g=n(570950),y=n(59982),j=n(777717),f=n(251743),b=n(294541),v=n(73796),w=n(547031),k=n(827908),_=n(437296),C=n(794720),E=n(928769),N=n(841907);function P(e,t){let[n,P]=(0,l.useState)(!1),[D,I]=(0,l.useState)(!1),[Z,R]=(0,l.useState)(null),[S,L]=(0,l.useState)(void 0),T=(0,E.q)({project:t,deployment:Z}),[$,A]=(0,l.useState)(N.G),O=(0,m.e1)(),M=(0,s.useRouter)(),{user:z}=(0,y.a)(),{team:W}=(0,j.t7)(),{data:B}=(0,k.B8)(e,{limit:3,production:"true"}),F=(0,l.useCallback)(e=>{R(e),P(!0),A(N.G)},[]),H=(0,l.useCallback)(()=>{P(!1)},[]),U=(0,l.useCallback)(()=>{I(!1),R(null),L(void 0)},[]),K=(0,l.useCallback)(async()=>{if(Z&&t){I(!0),L(void 0);try{let e=null==W?void 0:W.id,n=await (0,f.I)(`${(0,v.PP)("v13")}${(0,b.c)({teamId:e,skipIgnoreBuildStep:T&&!$?"1":null})}`,{method:"POST",body:JSON.stringify({deploymentId:Z.uid||Z.id,meta:{action:"promote"},name:t.name,target:"production"}),throwOnHTTPError:!0}),i="production"===Z.target&&(Z.uid||Z.id)===n.id?"Deployment is already the current Production Deployment.":"production"===Z.target&&(Z.uid||Z.id)!==n.id?"Promoted Deployment to Production successfully.":"Created Production Deployment successfully.";O.success({text:i,key:"production-deployment"});let l=(0,w.Rj)(n,z,W);M.push(l),H()}catch(e){L((0,r.SC)(e))}finally{I(!1),A(N.G)}}},[Z,O,M,z,W,H,t,$,T]),V=(0,l.useMemo)(()=>t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.ZP,{preset:"body-2",children:["This Deployment will be promoted to ",(0,i.jsx)("strong",{children:"Production"}),"."]}),Z&&"production"!==Z.target?(0,i.jsx)(a.ZP,{preset:"body-2",children:"A new Production Deployment (which includes a Build) will be issued using your Production Environment."}):null,B&&(null==B?void 0:B.length)>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.ZP,{preset:"body-2",children:"The following Domains will point to your new Deployment:"}),(0,i.jsxs)(g.Table,{children:[B.slice(0,2).map(e=>{let{name:t}=e;return(0,i.jsx)(g.TableRow,{children:(0,i.jsx)(g.TableCell,{style:{padding:1===B.length?0:"0 10px"},children:t.startsWith("*")?t:(0,i.jsx)(c.r,{"data-testid":(0,_.C)("deployments","promote-to-production-overlay","preview-link"),external:!0,href:`https://${t}`,variant:"highlight",children:t})})},t)}),B.length>2?(0,i.jsx)(g.TableRow,{children:(0,i.jsx)(g.TableCell,{children:(0,i.jsxs)(c.r,{as:`/${W?W.slug:null==z?void 0:z.username}/${encodeURIComponent(t.name)}/settings/domains`,href:"/[teamSlug]/[project]/settings/domains",variant:"highlight",children:["...and ",B.length-2," more"]})})}):null]})]}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(a.ZP,{preset:"body-2",children:["Warning: Your Project does not have a Production Domain. We recommend you"," ",(0,i.jsx)(c.r,{href:`/${W?W.slug:null==z?void 0:z.username}/${encodeURIComponent(t.name)}/settings/domains`,variant:"highlight",children:"add"})," ","one."]})}),(0,i.jsx)(a.ZP,{preset:"body-2",children:"Additionally, all Environment Variables defined for the Production Environment in the Project Settings will be applied."}),T?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.L,{y:.25}),(0,i.jsx)(u.Z,{checked:$,fullWidth:!0,onChange:()=>{A(!$)},children:"Use project's Ignore Build Step"}),(0,i.jsx)(C.Z,{margin:24})]}):null,(0,i.jsx)(a.ZP,{preset:"body-2",children:"Are you sure you want to continue?"})]}):(0,i.jsx)(o.Z,{center:!0,style:{marginTop:10},children:(0,i.jsx)(x.Z,{size:4})}),[B,t,W,z,Z,$,T]),Y=(0,l.useMemo)(()=>(0,i.jsx)(h.Action,{"data-testid":(0,_.C)("deployments","promote-to-production-overlay","confirm-button"),loading:D,onClick:K,children:"Promote to Production"}),[K,D]),G=(0,l.useMemo)(()=>(0,i.jsxs)(h.Modal,{active:n,"data-testid":(0,_.C)("deployments","promote-to-production-overlay"),onAnimationDone:U,onClickOutside:H,width:"500px",children:[(0,i.jsxs)(o.Z,{center:!0,children:[(0,i.jsx)(a.ZP,{h3:!0,children:"Promote to Production"}),(0,i.jsx)(d.L,{y:-2})]}),(0,i.jsxs)(h.Body,{children:[V,S?(0,i.jsx)(p.Z,{error:S}):null]}),(0,i.jsxs)(h.Actions,{children:[(0,i.jsx)(h.Action,{"data-testid":(0,_.C)("deployments","promote-to-production-overlay","cancel-button"),loading:!1,onClick:H,type:"secondary",children:"Cancel"}),Y]})]}),[V,H,U,n,Y,S]);return{modal:G,close:H,open:F}}},885488:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var i=n(397458),l=n(652983),r=n(878191),s=n(713536),o=n(303213),a=n(794720),c=n(980459),d=n(591703),u=n(557626),h=n(717146),p=n(106193),m=n(155593),x=n(115633),g=n(59982),y=n(777717),j=n(166701),f=n(547031),b=n(728947),v=n(795562),w=n(827908),k=n(437296),_=n(928769),C=n(841907),E=n(644609),N=n.n(E);function P(e,t){let[n,E]=(0,l.useState)(!1),[P,D]=(0,l.useState)(!1),[I,Z]=(0,l.useState)(null),[R,S]=(0,l.useState)(void 0),[L,T]=(0,l.useState)(!1),$=(0,_.q)({project:t,deployment:I}),[A,O]=(0,l.useState)(C.G),M=(0,x.e1)(),z=(0,r.useRouter)(),{user:W}=(0,g.a)(),{team:B}=(0,y.t7)(),F=null==I?void 0:I.target,H=(0,l.useMemo)(()=>{if(!I)return null;let e=Array.isArray(I.alias)?I.alias:[];return Array.from(new Set(e))},[I]),{data:U}=(0,w.B8)("production"===F?e:null,{limit:3,production:"true"}),K=(0,l.useCallback)(e=>{Z(e),E(!0),T(!1),O(C.G)},[]),V=(0,l.useCallback)(()=>{E(!1)},[]),Y=(0,l.useCallback)(()=>{D(!1),Z(null),S(void 0)},[]),G=(0,l.useCallback)(async()=>{D(!0),S(void 0),(0,j.Z)({deployment:I,includeBuildCache:L,project:t,target:F,team:B,skipIgnoreBuildStep:!!$&&!A}).then(e=>{if(!e)return;M.success("Deployment created successfully.");let t=(0,f.Rj)(e,W,B);z.push(t),V()}).catch(e=>{S(e)}).finally(()=>{D(!1),T(!1),O(C.G)})},[I,t,M,z,W,B,V,F,L,A,$]),q=(0,l.useMemo)(()=>(null==H?void 0:H.length)!==0||U&&(null==U?void 0:U.length)!==0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.ZP,{noMargin:!0,preset:"body-2",style:{color:"var(--accents-6)"},children:"You are about to create a new Deployment with the same source code as your current Deployment, but with the newest configuration from your Project Settings."}),(0,i.jsx)(h.L,{y:2/3}),(0,i.jsx)(d.ZP,{noMargin:!0,preset:"body-2",style:{color:"var(--accents-6)"},children:"The following Domains will point to your new Deployment:"}),(0,i.jsx)(h.L,{y:2/3}),"production"!==F&&H?H.map(e=>(0,i.jsx)(c.JH,{children:(0,i.jsx)(c.Sn,{title:(0,i.jsx)(u.r,{external:!0,href:"https://"+e,variant:"highlight",children:e})})},e)):null,U?(0,i.jsxs)(i.Fragment,{children:["production"===F&&U.slice(0,2).map(e=>{let{name:t}=e;return(0,i.jsx)(c.JH,{children:(0,i.jsx)(c.Sn,{title:(0,b.Z)(t)?t:(0,i.jsx)(u.r,{external:!0,href:"https://"+t,variant:"highlight",children:t})})},t)}),t&&"production"===F&&U.length>2?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.L,{y:2/3}),(0,i.jsxs)(u.r,{href:`/${B?B.slug:null==W?void 0:W.username}/${encodeURIComponent(t.name)}/settings/domains`,tab:!0,variant:"highlight",children:["...and ",U.length-2," more."]})]}):null,t&&"production"!==F&&U.length>0?(0,i.jsxs)(u.r,{href:`/${B?B.slug:null==W?void 0:W.username}/${encodeURIComponent(t.name)}/settings/domains`,tab:!0,variant:"highlight",children:["...and ",U.length," more."]}):null]}):null]}):(0,i.jsx)(d.ZP,{noMargin:!0,preset:"body-2",children:"Your new Deployment will not be assigned any Domains."}),[H,U,F,t,W,B]),X=(0,l.useMemo)(()=>(0,i.jsxs)(p.Modal,{active:n,"data-testid":(0,k.C)("redeploy-modal","modal"),onAnimationDone:Y,onClickOutside:V,width:"500px",children:[(0,i.jsx)(o.Z,{center:!0,className:N().heading,children:(0,i.jsxs)(d.ZP,{h4:!0,noMargin:!0,weight:500,children:["Redeploy ",F&&`to ${(0,v.Z)(F)}`]})}),(0,i.jsxs)(p.Body,{className:N().body,children:[q,(0,i.jsx)(h.L,{y:1}),R?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.Z,{error:R}),(0,i.jsx)(h.L,{y:1})]}):null,(0,i.jsxs)(o.Z,{row:!0,children:[(0,i.jsx)(s.Z,{checked:L,fullWidth:!0,onChange:()=>{T(!L)},children:"Use existing Build Cache"}),$?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.L,{y:.25}),(0,i.jsx)(s.Z,{checked:A,fullWidth:!0,onChange:()=>{O(!A)},children:"Use project's Ignore Build Step"})]}):null,(0,i.jsx)(a.Z,{margin:24}),(0,i.jsx)(u.r,{external:!0,href:"/docs/concepts/deployments/troubleshoot-a-build#understanding-build-cache",variant:"highlight",children:"Learn more about Caching"})]})]}),(0,i.jsxs)(p.Actions,{children:[(0,i.jsx)(p.Action,{loading:!1,onClick:V,type:"secondary",children:"Cancel"}),(0,i.jsx)(p.Action,{"data-testid":(0,k.C)("redeploy-modal","redeploy-button"),disabled:!H&&!U,loading:P,onClick:G,children:"Redeploy"})]})]}),[q,V,Y,n,P,R,G,H,U,L,F,A,$]);return{modal:X,close:V,open:K}}},928769:function(e,t,n){"use strict";n.d(t,{q:function(){return s}});var i=n(652983),l=n(818065);function r(e){let{commandForIgnoringBuildStep:t}=e||{};return"string"==typeof t&&t.trim().length>0}function s(e){let{project:t,deployment:n}=e,[s,o]=(0,i.useState)(!1),{isReady:a,value:c}=(0,l.eC)();return(0,i.useEffect)(()=>{let e=a&&c&&(r(t)||r(null==n?void 0:n.projectSettings));o(!!e)},[a,c,t,null==n?void 0:n.projectSettings]),s}},723957:function(e,t,n){"use strict";n.d(t,{LI:function(){return c},OL:function(){return a},UL:function(){return o}});var i=n(397458),l=n(14517),r=n(911956),s=n.n(r);let o=e=>{let{children:t,className:n}=e;return(0,i.jsx)("ul",{className:(0,l.W)(s().ul,n),children:t})},a=e=>{let{children:t,className:n}=e;return(0,i.jsx)("ol",{className:(0,l.W)(s().ol,n),children:t})},c=e=>{let{children:t,className:n}=e;return(0,i.jsx)("li",{className:(0,l.W)(s().li,n),children:t})}},81288:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(397458),l=n(917450),r=n.n(l),s=n(14517),o=n(422880);let a=(e,t)=>e===o.Vr.LEFT?`
    min-width: 0%;
    order: 0;
    margin: 0 ${16*t}pt 0 0;
  `:e===o.Vr.RIGHT?`
    min-width: 0%;
    order: 1;
    margin: 0 0 0 ${16*t}pt;
  `:e===o.Vr.TOP?`
    min-width: 100%;
    order: 0;
    margin: 0 0 ${16*t}pt 0;
  `:e===o.Vr.BOTTOM?`
    min-width: 100%;
    order: 1;
    margin: ${16*t}pt 0 0 0;
  `:void 0;function c(e){let{width:t="50%",gap:n=1,position:l=o.Vr.LEFT,positionTablet:c=o.Vr.TOP,positionMobile:d=o.Vr.TOP,sticky:u,stickyTablet:h,children:p,className:m,...x}=e;return(0,i.jsxs)("div",{...x,className:r().dynamic([["dc3c5ef7e782afa4",[t,u?u+"px":0,a(l,n),a(c,n),!1===h?"position: unset;":"",a(d,n)]]])+" "+(x&&null!=x.className&&x.className||(0,s.W)("geist-aside",{sticky:u},m)||""),children:[p,(0,i.jsx)(r(),{id:"dc3c5ef7e782afa4",dynamic:[t,u?u+"px":0,a(l,n),a(c,n),!1===h?"position: unset;":"",a(d,n)],children:`.geist-aside.__jsx-style-dynamic-selector{width:${t}}.geist-aside.sticky.__jsx-style-dynamic-selector{position:-webkit-sticky;position:sticky;top:${u?u+"px":0}}@media screen and (min-width:961px){.geist-aside.__jsx-style-dynamic-selector{${a(l,n)}
          }}@media screen and (max-width:960px){.geist-aside.__jsx-style-dynamic-selector{${a(c,n)}
          }.geist-aside.sticky.__jsx-style-dynamic-selector{${!1===h?"position: unset;":""}
          }}@media screen and (max-width:600px){.geist-aside.__jsx-style-dynamic-selector{${a(d,n)}
          }}`})]})}},445458:function(e,t,n){"use strict";var i=n(397458),l=n(14517),r=n(531494),s=n.n(r);t.Z=e=>{let{children:t,className:n,noWrap:r,title:o,truncate:a,style:c}=e;return(0,i.jsx)("code",{className:(0,l.W)(s().code,n,{[s().nowrap]:r,[s().truncate]:a}),"data-geist-inline-code":"","data-version":"v1",style:c,title:o,children:t})}},263351:function(e,t,n){"use strict";var i=n(397458),l=n(917450),r=n.n(l),s=n(14517),o=n(303213),a=n(422880),c=n(263948),d=n.n(c);t.Z=function(e){let{title:t,avatar:n,description:l,controls:c,actions:u,border:h,borderBottom:p,borderTop:m,center:x,background:g,size:y=a.br.MEDIUM,children:j}=e,{className:f,styles:b}={styles:(0,i.jsx)(r(),{id:"a2480f96a93a0c7b",dynamic:[h||p?"border-bottom: 1px solid var(--accents-2);":"",m?"border-top: 1px solid var(--accents-2);":"",g?`background: ${g};`:""],children:`.geist-hero.__jsx-style-dynamic-selector{${h||p?"border-bottom: 1px solid var(--accents-2);":""}
      ${m?"border-top: 1px solid var(--accents-2);":""}
      ${g?`background: ${g};`:""}
    }`}),className:r().dynamic([["a2480f96a93a0c7b",[h||p?"border-bottom: 1px solid var(--accents-2);":"",m?"border-top: 1px solid var(--accents-2);":"",g?`background: ${g};`:""]]])},v=(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("header",{className:(0,s.W)({[d().sm]:y===a.br.SMALL,[d().md]:y===a.br.MEDIUM,[d().lg]:y===a.br.LARGE}),children:[(0,i.jsxs)("div",{className:(0,s.W)(d().header,{[d().center]:x}),children:[n?(0,i.jsx)("div",{className:d().avatar,children:n}):null,t?(0,i.jsxs)("div",{className:d().title,children:[(0,i.jsx)("h1",{children:t}),l&&"string"==typeof l?(0,i.jsx)("p",{children:l}):(0,i.jsx)(i.Fragment,{children:l})]}):null,j]}),c||u?(0,i.jsxs)("div",{className:d().menu,children:[c?(0,i.jsx)("div",{className:d().controls,children:c}):null,u?(0,i.jsx)("div",{className:d().actions,children:u}):null]}):null]})});return(0,i.jsx)(o.Z,{classNames:["geist-hero",f],full:!0,styleSets:b,children:(0,i.jsx)(o.Z,{wrapper:!0,children:v})})}},940536:function(e,t,n){"use strict";n.d(t,{Ee:function(){return h},Rk:function(){return p},xL:function(){return m}});var i=n(397458),l=n(652983),r=n(14517),s=n(292165),o=n(434223),a=n(634974),c=n.n(a);let d=(0,l.createContext)({name:"",selectedValue:"",disabled:!1,required:!1,setSelected:e=>{}}),u=()=>(0,l.useContext)(d),h=e=>{let{label:t,name:n,value:l,required:r,disabled:a,onChange:c,children:u}=e,h=(0,o.B)(),p=(0,s.M)("radio-"),m=(0,s.M)("radio-name-");return n??=m,(0,i.jsxs)("div",{"aria-labelledby":t?p:void 0,"data-geist-radio-group":"","data-version":"v1",role:"radiogroup",children:[t?(0,i.jsx)("span",{className:"geist-sr-only",id:p,children:t}):null,(0,i.jsx)(d.Provider,{value:{name:n,selectedValue:l,setSelected:c,required:r,disabled:a||h},children:u})]})},p=(0,l.forwardRef)((e,t)=>{let{label:n=!0,value:s,disabled:o,children:a,className:d}=e,{selectedValue:h,setSelected:p,...m}=u(),x=(0,l.useCallback)(()=>null==p?void 0:p(s),[s,p]);return(0,i.jsxs)(n?"label":"span",{className:(0,r.W)(d,c().item,{[c().disabled]:m.disabled||o}),"data-geist-radio-item":"",children:[(0,i.jsxs)("span",{className:c().check,children:[a?(0,i.jsx)(i.Fragment,{children:"â€‹"}):null,(0,i.jsx)("input",{type:"radio",...m,checked:s===h,className:(0,r.W)(c().input,"geist-sr-only"),disabled:m.disabled||o,onChange:x,ref:t,value:s}),(0,i.jsx)("span",{"aria-hidden":!0,className:c().icon})]}),a?(0,i.jsx)("span",{className:c().text,children:a}):null]})});p.displayName="RadioItem";let m=e=>{let{value:t,disabled:n}=e,{selectedValue:l,...r}=u();return{component:(0,i.jsx)(p,{disabled:n,label:!1,value:t}),checked:t===l,...r}}},795562:function(e,t,n){"use strict";function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}n.d(t,{Z:function(){return i}})},166701:function(e,t,n){"use strict";var i=n(251743),l=n(294541),r=n(73796);async function s(e){let{deployment:t,includeBuildCache:n=!1,skipIgnoreBuildStep:s=!1,project:o,team:a,target:c}=e;if(!t||!o)return null;let d=null==a?void 0:a.id,u=(()=>{var e,n;if("production"!==t.target||!(null===(e=o.targets)||void 0===e?void 0:null===(n=e.production)||void 0===n?void 0:n.id))return!1;let i=o.targets.production;if("READY"!==i.readyState)return!1;let l=t.id||t.uid;return l!==i.id})();if(u)throw{message:"A more recent Production Deployment has been created, so the one you are looking at cannot be redeployed anymore.",action:"Learn More",link:"https://vercel.link/redeploy-production-deployment"};let h=await (0,i.I)(`${(0,r.PP)("v13")}${(0,l.c)({teamId:d,forceNew:"1",...n&&{withCache:"1"},skipIgnoreBuildStep:s?"1":null})}`,{method:"POST",body:JSON.stringify({deploymentId:t.uid||t.id,meta:{action:"redeploy"},name:o.name,target:c||void 0}),throwOnHTTPError:!0});return h}t.Z=s},748054:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(739946);function l(e){if(!(!e||"network_error"===e.code||"rate_limited"===e.code||"too_many_requests"===e.code||"cancelled"===e.message||(0,i.I)())&&504!==e.status&&!e.saml)throw e.isDashboard=!0,e}},800359:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(251743);function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.headers=t.headers||{},t.headers.Accept=t.headers.Accept||"application/json",function(e){if("object"==typeof e&&null!==e){let t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}return!1}(t.body)&&(t.body=JSON.stringify(t.body)),t.teamId){let n=encodeURIComponent;e=e.includes("?")?`${e}&teamId=${n(t.teamId)}`:`${e}?teamId=${n(t.teamId)}`}return(0,i.Z)(e,{...t,wrapErrorsLegacy:!0,throwOnHTTPError:!0})}},885096:function(e,t,n){"use strict";n.d(t,{DK:function(){return a},NE:function(){return o},St:function(){return d},ao:function(){return u},pN:function(){return c}});var i=n(397458),l=n(216613),r=n(341429),s=n(380782);function o(e){return!!e&&!!(e.githubDeployment||e.gitlabDeployment||e.bitbucketDeployment)}function a(e){let t=e.githubCommitOrg!==e.githubOrg;return{logo:(0,i.jsx)(s.default,{}),branchUrl:`https://github.com/${e.githubCommitOrg}/${e.githubCommitRepo}/tree/${e.githubCommitRef}`,branchName:`${t?`${e.githubCommitOrg}:`:""}${e.githubCommitRef}`,commitUrl:`https://github.com/${e.githubCommitOrg}/${e.githubCommitRepo}/commit/${e.githubCommitSha}`,commitMessage:e.githubCommitMessage,sha:e.githubCommitSha,gitDirty:e.gitDirty}}function c(e){return{logo:(0,i.jsx)(r.default,{}),branchUrl:`https://gitlab.com/${e.gitlabProjectPath}/tree/${e.gitlabCommitRef}`,branchName:e.gitlabCommitRef,commitUrl:`https://gitlab.com/${e.gitlabProjectPath}/commit/${e.gitlabCommitSha}`,commitMessage:e.gitlabCommitMessage,sha:e.gitlabCommitSha,gitDirty:e.gitDirty}}function d(e){return{logo:(0,i.jsx)(l.default,{}),branchUrl:`https://bitbucket.org/${e.bitbucketRepoOwner}/${e.bitbucketRepoSlug}/branch/${e.bitbucketCommitRef}`,branchName:e.bitbucketCommitRef,sha:e.bitbucketCommitSha,commitUrl:`https://bitbucket.org/${e.bitbucketRepoOwner}/${e.bitbucketRepoSlug}/commits/${e.bitbucketCommitSha}`,commitMessage:e.bitbucketCommitMessage,gitDirty:e.gitDirty}}function u(e){if(e){if(e.githubDeployment)return a(e);if(e.gitlabDeployment)return c(e);if(e.bitbucketDeployment)return d(e)}}},245255:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(878191),l=n.n(i);function r(e){let{as:t,res:n,status:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){if(n){n.writeHead(i||302,{Location:t||e}),n.end();return}if(e.match(/^https?:\/\//)){window.setLocationHref(e);return}if("/"===e[0]&&"/"!==e[1])return r?l().replace(e,t):l().push(e,t);window.setLocationHref(`${window.location.protocol}//${window.location.host}${e}`)}}window.setLocationHref=e=>{window.isRedirecting=!0,window.location.href=e}},993519:function(e,t,n){"use strict";function i(e){return new Promise(t=>{setTimeout(t,e)})}n.d(t,{Z:function(){return i}})},743892:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(397458),l=n(652983),r=n(401168),s=n.n(r),o=n(388757),a=n(277877);let c=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("style",{dangerouslySetInnerHTML:{__html:"body::before{content:'';display:block;position:fixed;width:100%;height:100%;top:0;left:0;background:var(--geist-background);z-index: 99999}.render body::before{display:none}"}}),(0,i.jsx)("noscript",{dangerouslySetInnerHTML:{__html:"<style>body::before{content:none}</style>"}})]});function d(e){let{requireAuth:t=!0,timeout:n=1e3}=e;if(t)return(0,i.jsxs)(s(),{children:[c,(0,i.jsx)("script",{dangerouslySetInnerHTML:{__html:`if (!document.cookie || document.cookie.indexOf('isLoggedIn=1') === -1) {
              location.replace('/login?next=' + encodeURIComponent(location.pathname + location.search))
            } else {
              document.documentElement.classList.add('render')
            }`}})]});let[r,d]=(0,l.useState)(!1),{isLoggedOut:u}=(0,a.n)(),h=(0,l.useRef)();return h.current=u,(0,l.useEffect)(()=>{let e=setTimeout(()=>{void 0===h.current&&d(!0)},n);return()=>clearTimeout(e)},[n]),(0,l.useEffect)(()=>{u&&(document.documentElement.classList.add("render"),d(!1))},[u]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s(),{children:[c,(0,i.jsx)("script",{dangerouslySetInnerHTML:{__html:`if (!document.cookie || document.cookie.indexOf('isLoggedIn=1') === -1) {
            document.documentElement.classList.add('render')
          }`}})]}),r?(0,i.jsx)("div",{className:"geist-fade-in",style:{width:20,height:20,position:"fixed",top:0,left:0,right:0,bottom:0,margin:"auto",zIndex:1e5},children:(0,i.jsx)(o.$,{})}):null]})}},866074:function(e,t,n){"use strict";n.d(t,{M:function(){return s}});var i=n(652983),l=n(623440);let r="[teamSlug]";function s(e){let{teamSlug:t}=(0,l.U)()??{},n=(0,i.useMemo)(()=>e.includes(r)?e.replace(`/${r}`,t?`/${t}`:""):e,[t,e]);return n}},185991:function(e,t,n){"use strict";n.d(t,{BZ:function(){return _},W0:function(){return k},ZP:function(){return C},f9:function(){return v}});var i=n(397458),l=n(652983),r=n(14517),s=n(866254),o=n(306219),a=n(903024),c=n(743892),d=n(510463),u=n(188128),h=n(59982),p=n(777717),m=n(996315),x=n(248546),g=n(92637),y=n(647345),j=n(623440),f=n(861967);let b=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{data:t,isLoggedOut:n,isValidating:i,mutate:r}=(0,h.a)(e,!0),{isReady:s,teams:o,team:a,isValidating:c,teamSlug:d,isTeam:u,mutate:m}=(0,p.t7)(),x=(0,l.useCallback)(()=>Promise.all([r(),m()]),[r,m]);return{isReady:t&&s,isValidating:i||c,team:a,teams:o,userData:t,teamSlug:d,isTeam:u,isLoggedOut:n,mutate:x}};function v(e){let t=(0,s.useRouter)(),{teamSlug:n}=(0,j.U)()||{};n=(n||"").replace(/\?.+/,"");let i=(0,y.b)().get("invited"),{team:r,mutate:o,isValidating:a,isReady:c,userData:d,teamSlug:h,isLoggedOut:p}=b(e);(0,f.Z)("invited","You are now a member of this Team.","success",!a),(0,l.useEffect)(()=>{i&&!a&&h&&(o(),t.replace(`/${h}`,{shallow:!0}))},[t,h,o,a,i]),(0,l.useEffect)(()=>{if(e&&c){var t,i;if(!p&&!a&&n&&(null===(t=d.user)||void 0===t?void 0:t.username)!==n&&(null===(i=d.user)||void 0===i?void 0:i.uid)!==n&&!r){let e=Error("Team not found");throw e.status=404,(0,u.nY)(),e}}},[e,d,r,c,p,a,n])}let w=(0,l.memo)(e=>{let{Section:t,opts:n,pageProps:s}=e;v(n.requireAuth);let d=function(){let[e,t]=(0,l.useReducer)((e,t)=>({initial:!1,key:e.initial?e.key:t}),{initial:!0,key:null}),{query:{teamSlug:n},isReady:i}=(0,o.useRouter)();return(0,l.useEffect)(()=>{i&&t(n??null)},[i,n]),e.key}();return(0,i.jsxs)(i.Fragment,{children:[n.requireAuth?(0,i.jsx)(c.Z,{}):null,(0,i.jsxs)(a.Z,{active:n.active,dashboard:!0,footer:n.footer,fullWidthLayout:n.fullWidthLayout,stickyTabs:n.stickyTabs,title:n.pageName?`${n.pageName} â€“ Dashboard`:"Dashboard",...n.pageProps,children:[(0,i.jsx)(m.Z,{}),(0,i.jsx)(x.Z,{}),(0,i.jsx)(g.Z,{}),(0,i.jsx)("div",{className:(0,r.W)("dashboard-container",{gray:n.darkFold}),children:(0,l.createElement)(t,{active:n.active,...s,key:d})})]})]})});function k(e){return(0,d.P)(e)}w.displayName="DashboardLayout";let _=k(w);function C(e,t){t=Object.assign({requireAuth:!0,active:""},t||{});let n=(0,l.memo)(e);return e.getLayout=function(e,l){return(0,i.jsx)(_,{Section:n,opts:t,pageProps:l})},e}},510463:function(e,t,n){"use strict";n.d(t,{A:function(){return a},P:function(){return c}});var i=n(397458),l=n(652983),r=n(878191),s=n(742100),o=n(392965);let a=e=>class extends l.Component{static async getInitialProps(t){let n={};return e.getInitialProps&&(n=await e.getInitialProps(t)),n.statusCode&&t.res&&(t.res.statusCode=n.statusCode),n}render(){return this.props.statusCode?(0,i.jsx)(o.default,{err:this.props.err,reported:!0,statusCode:this.props.statusCode}):(0,i.jsx)(e,{...this.props})}};function c(e){class t extends l.PureComponent{}class n extends t{static getDerivedStateFromError(e){var t;if(404===e.status&&e.teamSlug&&e.membershipRequestedBy)throw e;let n=e.statusCode||e.status||(null===(t=e.res)||void 0===t?void 0:t.status);return(0,s.captureError)(e,{statusCode:n}),{error:e}}componentDidUpdate(e){e.router.asPath!==this.props.router.asPath&&this.state.error&&this.setState({error:null})}render(){let{error:t}=this.state;if(t){var n;let e=t.statusCode||t.status||(null===(n=t.res)||void 0===n?void 0:n.status);return(0,i.jsx)(o.default,{err:t,reported:!0,statusCode:e})}return(0,i.jsx)(e,{...this.props})}constructor(...e){super(...e),this.state={error:null}}}return n.getInitialProps=t=>e.getInitialProps?e.getInitialProps(t):{},n.getLayout=e.getLayout,(0,r.withRouter)(n)}},171107:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return th}});var i=n(397458),l=n(917450),r=n.n(l),s=n(652983),o=n(401168),a=n.n(o),c=n(878191),d=n.n(c),u=n(14517),h=n(115669),p=n(37663),m=n(969366),x=n(789270),g=n(49623),y=n(308908),j=n(683568),f=n(46838),b=n(875770),v=n(614029),w=n(756913),k=n(810773),_=n(911763),C=n.n(_),E=n(201348);let N=e=>e&&"object"==typeof e&&"a"===e.type,P=e=>{let{href:t,as:n,children:l,prefetch:r=!0,...s}=e;return(0,i.jsx)(C(),{as:n,href:t,prefetch:!!r&&void 0,...s,children:l})},D=e=>{let{href:t,onClick:n,children:l}=e;return N(l)?s.cloneElement(l,{href:t}):(0,i.jsx)("a",{href:t,onClick:n,children:l})},I=e=>{let{children:t,target:n="_blank",...l}=e;return N(t)?s.cloneElement(t,l):(0,i.jsx)("a",{rel:"noopener",target:n,...l,children:t})};var Z=e=>(0,E.Z)(e.href)?(0,i.jsx)(P,{...e}):e.href.startsWith("#")?(0,i.jsx)(D,{...e}):(0,i.jsx)(I,{...e}),R=n(866584),S=n(591703),L=n(557626),T=n(405811),$=n(885096);let A=(0,s.memo)(function(e){let t,{metadata:n=null}=e;if(!n)return(0,i.jsx)(R.Z,{content:(0,i.jsx)(S.ZP,{span:!0,children:(0,i.jsx)(T.Z,{})}),title:"Branch"});let{meta:l}=n;if(!(0,$.NE)(l))return(0,i.jsx)(R.Z,{content:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{className:"geist-inline-center",children:[(0,i.jsx)(x.b,{color:"var(--geist-foreground)",fill:!0,size:16,style:{marginRight:5}}),(0,i.jsx)(S.ZP,{span:!0,children:"No repository"})]}),(0,i.jsx)("br",{}),(0,i.jsx)(S.ZP,{span:!0,style:{fontWeight:400},type:"secondary",children:(0,i.jsx)(L.r,{href:"/docs/git",tab:!0,variant:"secondary",children:"Learn how to deploy via Git"})})]}),title:"Branch"});if(l.githubDeployment?t=(0,$.DK)(l):l.gitlabDeployment?t=(0,$.pN)(l):l.bitbucketDeployment&&(t=(0,$.St)(l)),!t)return null;let{logo:r,branchName:s,branchUrl:o,sha:a,commitUrl:c,commitMessage:d,gitDirty:u}=t;return u?(0,i.jsx)(R.Z,{content:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{className:"geist-inline-center",children:[(0,i.jsx)(x.b,{color:"var(--geist-foreground)",fill:!0,size:16,style:{marginRight:5}}),(0,i.jsx)(S.ZP,{span:!0,children:"No Git commit"})]}),(0,i.jsx)("br",{}),(0,i.jsx)(S.ZP,{span:!0,style:{fontWeight:400},type:"secondary",children:"via Vercel CLI"})]}),title:"Branch"}):(0,i.jsx)(R.Z,{content:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Z,{className:"geist-reset",href:o,children:(0,i.jsxs)(S.ZP,{Component:"span",className:"geist-ellipsis",span:!0,style:{display:"block"},weight:600,children:[(0,i.jsx)("span",{style:{verticalAlign:-2,marginLeft:1,marginRight:2},children:r})," ",s]})}),(0,i.jsxs)(Z,{className:"geist-reset geist-ellipsis",href:c,children:[(0,i.jsx)(S.ZP,{Component:"code",span:!0,type:"secondary",children:a.substr(0,7)}),(0,i.jsxs)(S.ZP,{Component:"span",span:!0,type:"secondary",children:[" â€” ",d]})]})]}),title:"Branch"})});var O=n(402808),M=n(106193),z=n(797258),W=n(649142),B=n(913141),F=n(61187),H=n(717146),U=n(263351),K=n(422880),V=n(23669),Y=n(553440),G=n(177281),q=n(698542),X=n(81288),J=n(151464),Q=n(54671),ee=n(574224),et=n(115633),en=n(244140),ei=n(139316),el=n(342056),er=n(885488),es=n(891069),eo=n(736656),ea=n(259488),ec=n(748054),ed=n(39097),eu=n(185991),eh=n(245255),ep=n(132998);let em={QUEUED:`${ep.X}/queued.ico`,BUILDING:`${ep.X}/building.ico`,READY:`${ep.X}/success.ico`,ERROR:`${ep.X}/error.ico`,CANCELED:`${ep.X}/queued.ico`,INITIALIZING:`${ep.X}/building.ico`,UPLOADING:`${ep.X}/building.ico`,DEPLOYING:`${ep.X}/building.ico`,ARCHIVED:`${ep.X}/building.ico`};var ex=e=>{let{readyState:t,otherBitsRunning:n,hasFailure:i}=e;return n?em.BUILDING:i?em.ERROR:t&&em[t]?em[t]:void 0},eg=n(73796),ey=n(251743),ej=n(582599),ef=n(826774),eb=n(247379),ev=n(311010),ew=n(838739),ek=n(71346),e_=n(475846),eC=n(437296),eE=n(725429),eN=n(705820),eP=n(428416),eD=n(423764),eI=n(813191),eZ=n(947380),eR=n(641372),eS=n(388757),eL=n(386807),eT=n(736934),e$=n(254048),eA=n(277877),eO=n(827908);function eM(e,t){var n,i,l;let r;let o=function(e){if(!e)return;let t=["github","gitlab","bitbucket"].map(e=>`${e}CommitRef`).find(t=>t in e);if(!(!t||t.startsWith("github")&&e.githubOrg!==e.githubCommitOrg))return{[t]:e[t]}}(null==e?void 0:e.meta),{isLoggedOut:a}=(0,eA.n)(),{data:c,isLoading:d}=(0,e$.Z)({limit:3*Number(!!(o&&!a)),projectId:(null==e?void 0:e.projectId)||"",state:"READY",target:(null==e?void 0:e.target)||"",meta:o||{}}),u=null==c?void 0:c.deployments.filter(e=>e.aliasAssigned).sort((e,t)=>Number(e.aliasAssigned)-Number(t.aliasAssigned)).pop(),h=null==u?void 0:u.uid,{data:p,isLoading:m}=(0,J.ZP)((null==u?void 0:u.aliasAssigned)&&h!==(null==e?void 0:e.id)?h:null);d||m||(r=p??e);let{data:x,mutate:g}=(0,ee.w)(r,t),y=null===(n=(0,$.ao)(null==e?void 0:e.meta))||void 0===n?void 0:n.branchName,{data:j,isLoading:f}=(0,eO.B8)(y&&(null==e?void 0:e.projectId),{gitBranch:y}),b=(0,s.useRef)({branchDomain:"",otherDomains:[],isLatest:!1,isLoading:!a,mutate:g});if((null==x?void 0:x.aliases)&&(b.current.isLoading||!f&&x.aliases.length)){let t=!p||h===(null==e?void 0:e.id)||((null==e?void 0:e.aliasAssignedAt)||0)>(p.aliasAssignedAt||0),{aliases:n}=x,r=(0,ef.c)(n.map(e=>{let{alias:t,redirect:n}=e;return{name:t,redirect:n}})).map(e=>e.name),s=null===(i=null===(l=r.at(-1))||void 0===l?void 0:l.split(".")[0])||void 0===i?void 0:i.includes("-git-"),o=s&&r.pop()||"",a=(null==j?void 0:j.map(e=>e.name))||[],c=n.find(e=>e.alias===o);b.current={branchAlias:c,branchDomain:o,otherDomains:t?r:a,latest:p,isLatest:t,isLoading:!1,mutate:g}}return b.current.mutate=g,b.current}var ez=n(713496),eW=n(15129),eB=n(274832),eF=n(818065),eH=n(409146),eU=n(525938),eK=n(358467),eV=n.n(eK),eY=n(158673),eG=n(642518),eq=n(830779),eX=n.n(eq);let eJ=e=>{let{containerRef:t,text:n,gapRight:i=0}=e;if(!t.current)return n;let l=document.createElement("canvas"),r=l.getContext("2d");if(!r)return n;let s=getComputedStyle(t.current);r.font=`${s.fontWeight} ${s.fontStyle} ${s.fontSize} ${s.fontFamily}`;let o=Math.round(r.measureText(n).width),a=Math.round(r.measureText("...").width),c=t.current.offsetWidth-i;if(o<=c)return n;let d=o/n.length,u=Math.round(Math.round((c-a)/2)/d),h=n.slice(0,u),p=n.slice(-u),m=`${h}...${p}`,x=Math.round(r.measureText(m).width),g=Math.floor((c-x)/d);if(0===g)return m;let y=n.slice(-(u+g));return`${h}...${y}`};var eQ=n(900496);function e0(e){let{isLoading:t,alias:n,protectionBypass:l,protectionEnabledForDeployment:r,onRegenerateShareableLink:o}=e,a=(0,ek.ic)(),c=n&&l&&r?(0,eT.u)(n.alias,l):null==n?void 0:n.alias,d=(0,s.useRef)(null),[h,p]=(0,s.useState)({text:c,isTruncated:!1}),m=(l||t)&&r,x=(0,s.useCallback)(()=>c?eJ({containerRef:d,text:c,gapRight:m?50:18}):"",[c,m]),g=(0,s.useCallback)(async()=>{var e;p({text:c||"",isTruncated:!1}),await Promise.resolve(),null===(e=d.current)||void 0===e||e.select()},[c]),y=(0,s.useCallback)(()=>{p({text:x(),isTruncated:!0})},[x]);return(0,s.useEffect)(()=>{p({text:x(),isTruncated:!0})},[x]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:(0,u.W)(eX().container),style:{flexGrow:1,position:"relative"},children:[(0,i.jsx)("textarea",{className:(0,u.W)(eX().textarea),disabled:!c,onBlur:y,onFocus:()=>void g(),readOnly:!0,ref:d,style:{whiteSpace:"nowrap",overflowY:"hidden",backgroundColor:"var(--accents-1)",color:t?"var(--accents-3)":void 0},value:t?"Updating...":h.text||""}),m?(0,i.jsx)("div",{className:(0,u.W)(eV()["regenerate-shareable-link-wrapper"]),children:t?(0,i.jsx)(eS.$,{size:16}):(0,i.jsx)(G.Z,{text:"Reset link",children:(0,i.jsx)(V.z,{"aria-label":"Regenerate shareable link",className:(0,u.W)(eV()["regenerate-shareable-link-button"]),onClick:o,style:{display:h.isTruncated?void 0:"none"},svgOnly:!0,variant:"ghost",children:(0,i.jsx)(eY.o,{size:16})})})}):null]}),(0,i.jsx)(G.Z,{text:"Copy",children:(0,i.jsx)(eQ.Z,{disabled:t,label:"Copy link",onClick:()=>ew.co.track(ew.s6.DEPLOYMENT_SHARE_COPY_LINK,{projectId:a,deploymentType:"alias"}),textToCopy:(0,ej.j)(c||"")})}),(0,i.jsx)(G.Z,{text:"Visit",children:(0,i.jsx)(eL.Z,{"aria-label":"External link",disabled:!c||t,href:(0,ej.j)(c||""),shape:"square",style:{flexShrink:0},svgOnly:!0,tab:!0,children:(0,i.jsx)(f.K,{align:"center",direction:"row",gap:2,children:(0,i.jsx)(eG.d,{})})})})]})}var e1=n(109022),e4=n(690854),e7=n(980459),e2=n(940536),e5=n(993820),e6=n(724543),e3=n(564639);function e9(e){var t,n,l;let{deployment:r,isLoading:o,previewCommentsEnabledForDeployment:a,protectionBypass:c,protectionEnabledForDeployment:d,git:h,onCreateShareableLink:p,onDeleteShareableLink:m,openCreateTeamModal:x,canUpdateShareableLink:g}=e,{team:y,account:j}=(0,en.Z)(),b=(0,ek.ic)(),w=(null==j?void 0:null===(t=j.billing)||void 0===t?void 0:t.plan)==="hobby",[k,_]=(0,s.useState)(c?"anyone":"team"),{actions:{setOpen:C}}=(0,e5.H9)(),E=(0,s.useCallback)(e=>{_(e),"anyone"!==e||c?c&&m():p()},[p,m,c]),N=(0,eF.pJ)().value||!1,P=(null===(n=r.gitRepo)||void 0===n?void 0:n.private)||!1,D=!!(N&&P&&w),I=()=>{ew.co.track(ew.s6.DEPLOYMENT_SHARE_UPGRADE_TO_PRO_CLICKED,{projectId:b,isHobbyPrivate:D}),C(!1),x()};(0,s.useEffect)(()=>{o||_(c?"anyone":"team")},[c,o]);let Z=N&&D&&!!y&&(0,i.jsxs)(i.Fragment,{children:["To allow external collaborators to comment on the Hobby plan, the repository"," ",(0,i.jsx)("span",{style:{display:"inline-block",transform:"scale(0.85) translateY(2px)"},children:null==h?void 0:h.logo})," ",null===(l=r.gitRepo)||void 0===l?void 0:l.name," ",(0,i.jsx)(e4.H,{size:12})," visibility must be public."]}),R=(0,s.useMemo)(()=>{if(!g)return"Your account does not have the required permissions to change this setting"},[g]);return(0,i.jsx)(e2.Ee,{onChange:e=>E(e),value:k,children:(0,i.jsxs)(f.K,{children:[(0,i.jsx)(e7.JH,{className:eV().radioEntity,disableDisabledWall:!0,disabled:!!R,children:(0,i.jsx)(e8,{children:(0,i.jsx)(f.K,{gap:4,style:{width:"100%"},children:(0,i.jsx)(G.Z,{forceHide:!R,maxWidth:350,padding:10,text:R,children:(0,i.jsx)(e2.Rk,{className:(0,u.W)(eV()["radio-item"]),disabled:o||!!R,value:"team",children:(0,i.jsxs)(f.K,{align:"center",direction:"row",justify:"space-between",children:[(0,i.jsx)(v.x,{style:{flexGrow:1},children:y?"Only team members":"Only your personal account"}),(0,i.jsx)(e6.qE,{className:(0,u.W)({[eV()["greyscale-avatar"]]:"anyone"===k}),size:24,teamId:null==y?void 0:y.id,title:"",uid:null==j?void 0:j.avatar})]})})})})})}),(0,i.jsx)(e7.JH,{className:eV().radioEntity,disableDisabledWall:!0,disabled:D,filled:!!R,...Z&&{onClick:()=>{I()}},children:(0,i.jsx)(e8,{children:(0,i.jsx)(f.K,{gap:4,style:{width:"100%"},children:(0,i.jsx)(G.Z,{forceHide:!(R||Z),maxWidth:350,padding:10,text:R||Z,children:(0,i.jsx)(e2.Rk,{className:(0,u.W)(eV()["radio-item"]),disabled:D||o||!!R,value:"anyone",children:(0,i.jsxs)(f.K,{align:"center",direction:"row",justify:"space-between",children:[(0,i.jsxs)(f.K,{children:[(0,i.jsx)(v.x,{color:R?"accents-3":void 0,children:d?"Anyone with the link":"Anyone"}),a?(0,i.jsxs)(v.x,{color:R?"accents-3":"accents-5",size:13,children:["Visitors must"," ",(0,i.jsx)("span",{className:"geist-hide-on-mobile",children:"be logged in"})," ",(0,i.jsx)("span",{className:"geist-show-on-mobile",children:"log in"})," ","to comment"]}):null]}),(0,i.jsxs)(f.K,{align:"center",direction:"row",gap:{sm:2,md:3,lg:3},children:[D?(0,i.jsx)(V.z,{size:"small",style:{cursor:"pointer",background:"var(--geist-foreground)",color:"var(--geist-background)"},type:"success",children:"Upgrade"}):(0,i.jsx)(e3.Z,{muted:"team"===k}),(0,i.jsx)(f.K,{align:"center",justify:"center",style:{borderRadius:"50%",backgroundColor:"anyone"===k?"var(--geist-success)":"var(--accents-2)",color:"anyone"===k?"#fff":"var(--accents-5)",width:24,height:24,flexShrink:0},children:(0,i.jsx)(eE.r,{size:12,weight:"bold"})})]})]})})})})})})]})})}function e8(e){return e.children}let te=e=>{let{previewCommentsEnabledForDeployment:t,protectionEnabledForDeployment:n}=e;return!t&&n?"view":t&&!n?"comment":"view and comment"};function tt(e){var t,n;let{disabled:l,deployment:r,project:o}=e,{user:a,team:c,account:d}=(0,en.Z)(),h=(null==d?void 0:null===(t=d.billing)||void 0===t?void 0:t.plan)==="hobby",{branchAlias:m,isLoading:x,mutate:g}=eM(r),y=(0,Q.Z)(r.id),j=(0,s.useMemo)(()=>{var e;return(0,$.ao)(null==y?void 0:null===(e=y.data)||void 0===e?void 0:e.meta)},[null==y?void 0:null===(n=y.data)||void 0===n?void 0:n.meta]),w=(0,et.e1)(),k="production"!==r.target,{value:_,isLoading:C}=function(e){var t;let{account:n,team:i,isLoading:l}=(0,en.Z)(),r=(0,eF.Zu)(),o=!!r.value,a=(null==n?void 0:n.enablePreviewFeedback)??"default",c=a.includes("-force")||!1,d=a.replace("-force",""),u=function(e,t){switch(e){case"on":return!0;case"off":return!1;default:return t}}(d,o),h=(0,ek.ic)(),{data:p,isLoading:m}=(0,ei.PY)(h,{apiVersion:"v10"}),x=p?p.enablePreviewFeedback??o:u,g=c?u:x,y=null==e?void 0:e.branch,j=null==e?void 0:e.target,f=!c&&e?null==p?void 0:p.name:void 0,{data:{envs:b=[]}={},mutate:v,isLoading:w}=(0,eH.Z)(f),k=y?b.find(e=>"VERCEL_PREVIEW_FEEDBACK_ENABLED"===e.key&&e.gitBranch===y):void 0,_=j?b.find(e=>"VERCEL_PREVIEW_FEEDBACK_ENABLED"===e.key&&(Array.isArray(e.target)?e.target.includes(j):e.target===j)&&!e.gitBranch):void 0,C=k??_,{decryptEnvVar:E}=(0,eU.Q)(f?(0,eH.W)(f,null==i?void 0:i.id):"",v,{projectName:f,teamId:null==i?void 0:i.id});(0,s.useEffect)(()=>{(null==C?void 0:C.decrypted)===!1&&E(C)},[C,E]);let N=(null==C?void 0:C.decrypted)===!0?("1"===(t=C.value)||"true"===t||void 0)??("0"!==t&&"false"!==t&&void 0)??g:g,P=l||!r.isReady||m||w;return P?{value:null,isLoading:!0}:{value:N,isLoading:!1}}({target:k?"preview":"production",branch:null==j?void 0:j.branchName}),[E,N]=(0,s.useState)(!1),{CreateTeamModal:P,openCreateTeamModal:D}=(0,eB.B)(),{can:I}=(0,e_.ZP)(),Z=I(e_.aU.Update,e_._z.AliasProtectionBypass),{protectionEnabledForDeployment:R,protectionEnabledForProject:S,isLoading:T,productionProtectionEnabled:A}=(0,e1.D9)({deployment:r,project:o}),O=m?(0,eT.R)(m,"shareable-link"):null,M=(0,s.useMemo)(()=>r.previewCommentsEnabled&&k,[r.previewCommentsEnabled,k]),z=(0,s.useMemo)(()=>te({previewCommentsEnabledForDeployment:M,protectionEnabledForDeployment:!!R}),[M,R]),W=(0,s.useCallback)(async e=>{if(!E&&m&&("create"===e||O)){switch(e){case"create":ew.co.track(ew.s6.DEPLOYMENT_SHARE_GENERATE_EXTERNAL_LINK,{projectId:o.id});break;case"delete":ew.co.track(ew.s6.DEPLOYMENT_SHARE_DISABLE_EXTERNAL_LINK,{projectId:o.id});break;case"regenerate":ew.co.track(ew.s6.DEPLOYMENT_SHARE_REGENERATE_EXTERNAL_LINK,{projectId:o.id})}N(!0);try{await (0,ez.x)({teamId:null==c?void 0:c.id,aliasId:m.uid,body:"create"!==e?{revoke:{secret:O||"",regenerate:"regenerate"===e}}:{}})}catch(e){w.error("An error occured, please try again later.")}await g(),N(!1)}},[m,o.id,O,g,null==c?void 0:c.id,w,E]),B=(0,s.useMemo)(()=>E?(0,i.jsx)(eS.$,{}):O?(0,i.jsx)(eE.r,{}):R?h?(0,i.jsx)(eN.n,{}):(0,i.jsx)(eP.Q,{}):(0,i.jsx)(eD.m,{}),[O,R,h,E]);return x||C||T?(0,i.jsx)(b.O,{children:(0,i.jsx)(V.z,{width:96})}):k||R?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(F.Fe,{position:"bottom-end",children:[(0,i.jsx)(F.j2,{align:R?"grow":"center",disabled:l,style:{color:l?void 0:"var(--accents-7)"},suffix:B,type:"secondary",typeName:"button",width:96,children:"Share"}),(0,i.jsxs)(F.v2,{style:{padding:0},width:480,children:[(0,i.jsxs)(f.K,{gap:4,style:{padding:"var(--geist-space-4x) var(--geist-space-6x) var(--geist-space-6x)"},children:[(0,i.jsxs)(f.K,{align:"center",direction:"row",justify:"space-between",children:[(0,i.jsxs)(f.K,{gap:1,children:[(0,i.jsxs)(v.x,{size:16,weight:600,children:["Share ",k?" Latest Preview":" Latest"]}),R?(0,i.jsxs)(f.K,{align:"center",direction:"row",gap:1,children:[(0,i.jsx)(eI.W,{color:"var(--accents-5)",size:16}),(0,i.jsxs)(v.x,{color:"accents-5",children:[A?"All":"Preview"," ","deployments"," ",(0,i.jsxs)("span",{className:"geist-hide-on-mobile",children:["in this project"," "]}),"are protected"]})]}):null]}),(0,i.jsx)(eL.Z,{align:"center","aria-label":"Settings",className:eV().settingsButton,href:(0,e1.Er)({team:c,user:a,projectName:o.name}),label:"Settings",shape:"circle",size:"small",svgOnly:!0,variant:"ghost",children:(0,i.jsx)(eZ.Z,{})})]}),(0,i.jsx)(f.K,{direction:"row",gap:{sm:2,md:3,lg:3},children:(0,i.jsx)(e0,{alias:m,isLoading:E,onRegenerateShareableLink:()=>void W("regenerate"),protectionBypass:O,protectionEnabledForDeployment:R})}),M||R?(0,i.jsxs)(f.K,{gap:3,children:[(0,i.jsxs)(v.x,{as:"span",children:["Choose who can"," ",(0,i.jsx)(v.x,{as:"span",weight:500,children:z})," ",M?"on":null," ",k?"previews":"deployments"," for the"," ",(null==j?void 0:j.branchName)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(L.r,{href:j.branchUrl,title:"Git Branch",children:[(0,i.jsx)(p.X,{size:16,style:{marginBottom:"-3px"}})," ",(0,i.jsx)(v.x,{as:"span",style:{lineHeight:"13px",fontFamily:"var(--font-mono)",fontSize:"13px",fontWeight:"500"},children:j.branchName})]})," ","branch:"]}):(0,i.jsx)(i.Fragment,{children:"alias:"})]}),(0,i.jsx)(e9,{canUpdateShareableLink:Z,deployment:r,git:j,isLoading:E,onCreateShareableLink:()=>void W("create"),onDeleteShareableLink:()=>void W("delete"),openCreateTeamModal:()=>D({source:"Hobby account shareable link limit call to upgrade"}),previewCommentsEnabledForDeployment:M??!1,protectionBypass:O,protectionEnabledForDeployment:R})]}):null,!M&&k?(0,i.jsx)(i.Fragment,{children:_?(0,i.jsx)(eW.Z,{fill:!0,label:!1,style:{backgroundColor:"var(--ds-gray-100)",border:"none",color:"var(--accents-6)"},children:"Comments will be available for new builds."}):(0,i.jsxs)(f.K,{align:"center",className:eV().commentsCallout,gap:2,justify:"center",style:{width:"100%",textAlign:"center",padding:"var(--geist-space-4x)"},children:[(0,i.jsx)(v.x,{color:"accents-7",weight:400,children:"Preview Comments are disabled for this deployment."}),(0,i.jsx)(L.r,{external:!0,href:(0,e1.B8)({team:c}),onClick:()=>{ew.co.track(ew.s6.DEPLOYMENT_SHARE_CLICK_ON_ENABLE_PREVIEW_COMMENTS,{projectId:o.id})},variant:"highlight",children:"Enable Comments"})]})}):null]}),S?null:(0,i.jsx)(eL.Z,{align:"start",className:(0,u.W)(eV()["enable-vercel-auth-button"]),href:(0,e1.Er)({team:c,user:a,projectName:o.name}),onClick:()=>{ew.co.track(ew.s6.DEPLOYMENT_SHARE_CLICK_ON_ENABLE_VERCEL_AUTHENTICATION,{projectId:o.id})},size:"large",suffix:(0,i.jsx)(eR.p,{color:"var(--accents-5)",size:20}),children:(0,i.jsx)(v.x,{color:"accents-7",weight:400,children:"Enable Deployment Protection for this project"})})]})]}),P]}):null}var tn=n(172293),ti=n(2313),tl=n(959304),tr=n(760934),ts=n(37989),to=n.n(ts);let ta=(0,i.jsx)(b.O,{height:16,width:100}),tc=(0,s.memo)(function(e){let{active:t,onClose:n,deployment:l,teamId:r}=e,[o,a]=(0,s.useState)(!1),d=(0,c.useRouter)(),{data:u}=(0,ei.PY)(null==l?void 0:l.projectId),h=(0,s.useCallback)(async()=>{a(!0);let e=r?"?teamId="+r:"";await (0,ey.I)(`${(0,eg.PP)("v2")}/${l.id}`+e,{throwOnHTTPError:!0,method:"DELETE"}),d.replace("/[teamSlug]/[project]?deploymentDeleted=1",`/${d.query.teamSlug}/${encodeURIComponent((null==u?void 0:u.name)||"")}`,{shallow:!0}),a(!1)},[l,r,d,u]);return(0,i.jsxs)(M.Modal,{active:t,onClickOutside:n,width:"500px",children:[(0,i.jsxs)(f.K,{align:"center",justify:"center",children:[(0,i.jsx)(S.ZP,{h3:!0,children:"Delete Deployment"}),(0,i.jsx)(H.L,{y:-2})]}),(0,i.jsxs)(M.Body,{children:[(0,i.jsxs)(S.ZP,{preset:"body-2",children:[(0,i.jsx)("b",{children:"NOTE:"})," Deployments that are not actively receiving any traffic do not generate any costs nor count towards any limits."]}),(0,i.jsx)(S.ZP,{preset:"body-2",children:"Deleting this deployment will prevent you from instantly reverting and might break links used in integrations, such as the ones in the pull requests of your Git provider."}),(0,i.jsx)(S.ZP,{preset:"body-2",children:"Are you sure you want to continue?"})]}),(0,i.jsxs)(M.Actions,{children:[(0,i.jsx)(M.Action,{loading:!1,onClick:n,type:"secondary",children:"Cancel"}),(0,i.jsx)(M.Action,{disabled:o,loading:o,onClick:h,children:"Delete"})]})]})}),td=(0,s.memo)(function(e){let t,{otherDomains:n,branchDomain:l,deployment:r,isLoading:s}=e;if(!r||s)t=ta;else{let e=r.host;t=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:(0,u.W)(to().line,n.length?to().visible:to().hidden),children:[(0,i.jsx)(h.T,{size:16}),(0,i.jsx)("span",{className:to().linkWrapper,children:(0,i.jsx)(W.Z,{domains:n,firstOnly:!0,showIcon:!1})})]}),(0,i.jsxs)("div",{className:(0,u.W)(to().line,l?to().visible:to().hidden),children:[(0,i.jsx)(p.X,{size:16}),(0,i.jsx)("span",{className:to().linkWrapper,children:(0,i.jsx)(L.r,{href:(0,ej.j)(l),children:l})}),"failed"!==r.checksConclusion?(0,i.jsx)(G.Z,{className:to().tooltip,text:"Always up-to-date view of this branch",children:(0,i.jsx)(m.k,{size:16})}):(0,i.jsx)(G.Z,{className:to().tooltip,text:"This domain was not updated because checks failed",children:(0,i.jsx)(x.b,{size:16})})]}),(0,i.jsxs)("div",{className:(0,u.W)(to().line,to().visible),children:[(0,i.jsx)(g.a,{size:16}),(0,i.jsx)("span",{className:to().linkWrapper,children:(0,i.jsx)(L.r,{href:(0,ej.j)(e),children:e})}),(0,i.jsx)(G.Z,{className:to().tooltip,text:"Unique view of this deployment",children:(0,i.jsx)(m.k,{size:16})})]})]})}return(0,i.jsx)(f.K,{className:to().domains,children:t})}),tu=(0,s.memo)(function(e){var t;let{deployment:n,deploymentState:l,openRedeployModal:o,publicDeploymentWithNoAccess:a}=e,c=(0,eF.mT)(),d=(0,es.Z)(),{data:h,isValidating:p,error:m}=(0,Q.Z)(d),{data:g}=(0,ei.PY)(null==n?void 0:n.projectId,{apiVersion:"v13"}),[_,C]=(0,s.useState)(!1),[E,N]=(0,s.useState)(!1),P=(0,et.e1)(),{isLoggedOut:D}=(0,eA.n)(),{user:I,team:Z}=(0,en.Z)(),{data:T}=(0,ek.d)(g),{data:$,error:M,isValidating:J}=(0,ee.w)(D?null:n,{refreshInterval:5e3}),er=eM(n),ea=!n||er.isLoading,ec=null==h?void 0:h.meta,ed=!c.isReady||c.value,eu=(0,s.useCallback)(e=>{(0,w.v)(e),P.message("Copied to clipboard!"),ew.co.track(ew.s6.DEPLOYMENT_OVERVIEW_COPIED_DEPLOYMENT_URL,{projectId:(null==n?void 0:n.projectId)||(null==g?void 0:g.id),deploymentId:null==n?void 0:n.id,deploymentTarget:null==n?void 0:n.target})},[n,g,P]),eh=(0,s.useMemo)(()=>n&&l?(0,i.jsx)(k.Z,{deployment:n,label:!0,state:l}):ta,[n,l]),ep=function(){let{readyState:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!e&&"QUEUED"!==e&&"BUILDING"!==e},{canRollbackDeployment:em,rollbackModal:ex,openRollbackModal:eg,getRollbackTooltip:ey}=(0,tl.b)(g),{modal:eb,open:eE}=(0,el.Z)(null==n?void 0:n.projectId,g),{areChecksRunning:eN,areDomainsAssigning:eP}=(0,ev.Z)(n),{can:eD,isLoading:eI}=(0,e_.ZP)({projectId:null==g?void 0:g.id}),eZ=(null==n?void 0:n.target)!==null?e_._z.DeploymentFromProductionBranch:e_._z.DeploymentPreview,eR=eD(e_.aU.Create,eZ),eS=eD(e_.aU.Update,eZ),eL=eD(e_.aU.Read,eZ)||D&&(null==n?void 0:n.public),eT=eD(e_.aU.Delete,eZ),e$=eD(e_.aU.Create,e_._z.Deployment),eO=e$||eR||eL||eT,ez=e$&&eR&&eL&&eT&&em,{protectionEnabledForDeployment:eW,isLoading:eB}=(0,e1.D9)({deployment:n,project:g}),eH=(null==n?void 0:n.target)!=="production",eU=(0,s.useMemo)(()=>{let e=!D&&(eW||eH),t=e?96:206;if(!D&&eB)return(0,i.jsxs)(f.K,{direction:"row",gap:3,children:[(0,i.jsx)(b.O,{height:40,width:40}),(0,i.jsx)(b.O,{className:"cta-skeleton",height:40,width:206})]});let r=null;if(em){let e=ey(n);r=e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.K,{className:"geist-show-on-mobile",children:(0,i.jsx)(tn.C,{anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},trigger:(0,i.jsx)(F.sN,{"data-testid":(0,eC.C)("deployment-entity","dots-menu","instant-rollback"),disabled:!0,children:(0,i.jsxs)(f.K,{align:"center",direction:"row",gap:2,children:[(0,i.jsx)(v.x,{as:"span",style:{fontSize:"inherit",color:"inherit"},children:"Instant Rollback"}),(0,i.jsx)(x.b,{color:"var(--accents-3)",size:16})]})}),children:(0,i.jsx)(ti.Menu,{style:{position:"relative",top:"35px"},tipOffset:4,tipSide:"left",width:"300px",children:(0,i.jsx)(v.x,{style:{paddingLeft:"10px"},children:e})})})}),(0,i.jsx)(f.K,{className:"geist-hide-on-mobile",children:(0,i.jsx)(G.Z,{text:e,children:(0,i.jsx)(F.sN,{disabled:!0,children:(0,i.jsxs)(f.K,{align:"center",direction:"row",gap:2,children:[(0,i.jsx)(v.x,{as:"span",style:{fontSize:"inherit",color:"inherit"},children:"Instant Rollback"}),(0,i.jsx)(x.b,{color:"var(--accents-3)",size:16})]})})})})]}):(0,i.jsx)(F.sN,{onClick:()=>eg(n),title:e,children:(0,i.jsxs)(f.K,{align:"center",direction:"row",gap:2,children:[(0,i.jsx)(v.x,{as:"span",style:{fontSize:"inherit",color:"inherit"},children:"Instant Rollback"}),(0,i.jsx)(y.b,{size:16})]})})}return(0,i.jsxs)(f.K,{align:"flex-end",direction:"row",gap:3,children:[(0,i.jsxs)(b.O,{show:!(n&&h)||eI&&!D,children:[eO?(0,i.jsxs)(F.Fe,{position:"bottom-end",children:[(0,i.jsx)(F.j2,{"aria-label":"Deployment Actions","data-testid":(0,eC.C)("deployment-actions","more-button"),disabled:!n||!h,shape:"square",svgOnly:!0,type:"secondary",children:(0,i.jsx)(j.h,{size:20})}),(0,i.jsxs)(F.v2,{width:"auto",children:[a?null:(0,i.jsxs)(i.Fragment,{children:[r,e$?(0,i.jsx)(F.sN,{onClick:n?()=>eE(n):void 0,children:"Promote to Production"}):null,eR?(0,i.jsx)(F.sN,{disabled:a??void 0,onClick:o,children:"Redeploy"}):null]}),eL?(0,i.jsx)(F.sN,{onClick:n?()=>eu(`https://${n.host}`):void 0,children:"Copy URL"}):null,!a&&ec&&eT?(0,i.jsx)(F.sN,{disabled:!ep(n),onClick:()=>C(!0),type:"error",children:"Delete"}):null,!ez&&!D&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(F.R,{}),a?null:(0,i.jsxs)(i.Fragment,{children:[em?null:(0,i.jsx)(F.dc,{children:"Instant Rollback"}),e$?null:(0,i.jsx)(F.dc,{children:"Promote to Production"}),eR?null:(0,i.jsx)(F.dc,{children:"Redeploy"})]}),eL?null:(0,i.jsx)(F.dc,{children:"Copy URL"}),a||!ec||eT?null:(0,i.jsx)(F.dc,{children:"Delete"})]})]})]}):null,!eO&&(0,i.jsx)(G.Z,{position:"bottom",text:(0,i.jsxs)(i.Fragment,{children:["Additional permissions are required to manage Deployment."," ",(0,i.jsx)(L.r,{href:"/docs/concepts/deployments/overview",variant:"highlight",children:"Learn More â†’"})]}),children:(0,i.jsx)(V.z,{"aria-label":"Deployment Actions","data-testid":(0,eC.C)("deployment-actions","more-button"),disabled:!0,shape:"square",svgOnly:!0,type:"secondary",children:(0,i.jsx)(j.h,{size:20})})})]}),e?g&&n?(0,i.jsx)(tt,{deployment:n,disabled:eP||eN||"READY"!==l,project:g}):(0,i.jsx)(b.O,{className:"cta-skeleton",height:40,width:96}):null,n&&h?eN?(0,i.jsx)(V.z,{className:(0,u.W)(to().deploymentButton),disabled:!0,width:t,children:e?"Waiting...":"Waiting for Checks"}):eP?(0,i.jsx)(V.z,{className:(0,u.W)(to().deploymentButton),disabled:!0,width:t,children:e?"Waiting...":"Waiting for Domains"}):"READY"===l?(0,i.jsx)(q.Z,{external:!0,href:(0,ej.j)(n.url),onClick:()=>{ew.co.track(ew.s6.DEPLOYMENT_OVERVIEW_CLICKED_VISIT_BUTTON,{projectId:n.projectId||(null==g?void 0:g.id),deploymentId:n.id,deploymentTarget:n.target})},width:t,children:"Visit"}):"ERROR"===l?void 0===ec&&p?(0,i.jsx)(b.O,{className:"cta-skeleton",height:40,width:t}):a||!eR?(0,i.jsx)(G.Z,{position:"top",style:{flexGrow:1},text:"You are not the owner of this deployment. In turn, you cannot re-deploy it.",children:(0,i.jsx)(V.z,{className:(0,u.W)(to().deploymentButton),disabled:!0,width:t,children:"Redeploy"})}):(0,i.jsx)(V.z,{className:(0,u.W)(to().deploymentButton),onClick:o,type:"error",width:t,children:"Redeploy"}):(I||Z)&&eS&&!["READY","ERROR","CANCELED"].includes(n.readyState)?(0,i.jsx)(Y.Z,{border:!0,onClick:()=>N(!0),style:{"--button-fg":"var(--geist-error)","--button-bg":"transparent","--button-fg-hover":"#fff","--button-bg-hover":"var(--geist-error)"},type:"error",width:t,children:"Cancel"}):(0,i.jsx)(q.Z,{disabled:!0,external:!0,href:`https://${n.host}`,width:t,children:"Visit"}):(0,i.jsx)(b.O,{className:"cta-skeleton",height:40,width:t})]})},[n,h,eI,D,eO,a,e$,eR,eS,em,eg,ey,o,eL,ec,eT,ez,eN,eP,l,p,I,Z,eE,eu,g,eW,eB,eH]),eK=(0,s.useMemo)(()=>{if(m||(null==M?void 0:M.status)===403&&!(null==n?void 0:n.public))return(0,i.jsx)(S.ZP,{span:!0,children:"-"});if(!n||!$&&J||!h)return(0,i.jsx)(S.ZP,{span:!0,children:"fieldSkeleton"});let e=[...(null==$?void 0:$.aliases)||[],n.host].map(e=>({name:"string"==typeof e?e:e.alias,redirect:"string"==typeof e?null:e.redirect}));return(0,i.jsx)(W.Z,{domains:(0,ef.c)(e).map(e=>e.name)})},[m,M,n,$,J,h]),eV=(null==n?void 0:n.createdAt)||(null==n?void 0:n.created),eY=(0,eo.R)(eV,{suffix:" ago"});return(0,i.jsxs)(U.Z,{borderBottom:!0,size:K.br.AUTO,children:[(0,i.jsxs)(f.K,{style:{minWidth:"100%"},children:[(0,i.jsx)(H.L,{y:2.2}),(0,i.jsxs)(f.K,{direction:{sm:"column",md:"row",lg:"row"},gap:2,children:[(0,i.jsx)(f.K,{children:(0,i.jsx)(X.Z,{className:(0,u.W)(to().screenshotAside,ed&&to().bigger),position:K.Vr.LEFT,positionMobile:K.Vr.TOP,positionTablet:K.Vr.LEFT,width:"",children:(0,i.jsxs)(f.K,{justify:"center",children:[(0,i.jsx)(z.Z,{deployment:n,idForLoadingPreview:null==T?void 0:T.id,ignoreAliasWarning:!1,showError:!0,useDeploymentUrl:!0}),(0,i.jsx)(H.L,{className:"geist-show-on-tablet",y:.5}),(0,i.jsx)(f.K,{className:"geist-show-on-tablet button-tablet",children:eU})]})})}),(0,i.jsxs)(f.K,{direction:"column",flex:"1 1 auto",gap:6,style:{width:"100%",overflow:"hidden"},children:[(0,i.jsxs)(f.K,{className:"deployment-info-row",direction:"row",children:[(0,i.jsx)(f.K,{direction:{sm:"column",md:"column",lg:"row"},flex:"1 1 auto",gap:{sm:6,md:6,lg:12},children:(0,i.jsxs)(f.K,{className:to().deploymentInfo,direction:"row",gap:4,children:[(0,i.jsx)(f.K,{style:{minWidth:148},children:(0,i.jsx)(R.Z,{content:eh,title:"Status"})}),(0,i.jsx)(f.K,{style:{minWidth:148},children:(0,i.jsx)(R.Z,{content:function(e){if(!e)return ta;switch(e.target){case"production":return"Production";case"staging":return"Staging";default:return"Preview"}}(n),title:"Environment"})}),(0,i.jsx)(f.K,{style:{minWidth:160},children:(0,i.jsx)(R.Z,{content:(0,i.jsx)(O.ZP,{animateSpinner:!0,createdAgo:eY,deployment:n}),title:"Duration",tooltip:"The time it takes to build and run checks against your deployment before being available on the Edge Network."})})]})}),(0,i.jsx)(f.K,{align:"flex-end",className:"geist-hide-on-tablet",flex:"0 0 230px",children:eU})]}),ed?(0,i.jsxs)(f.K,{gap:6,style:{minHeight:190},children:[(0,i.jsx)(f.K,{children:(0,i.jsx)(R.Z,{content:(0,i.jsx)(td,{deployment:n,...er}),title:"Domains"})}),!ea&&(0,i.jsx)(f.K,{children:(0,i.jsx)(R.Z,{content:(0,i.jsx)(tr.A,{deployment:n}),title:"Source"})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.K,{children:(0,i.jsx)(R.Z,{content:eK,title:"Domains"})}),(0,i.jsx)(f.K,{style:{minHeight:69},children:(0,i.jsx)(A,{metadata:h})})]})]})]}),(0,i.jsx)(H.L,{y:2.2})]}),n&&h?(0,i.jsx)(tc,{active:_,deployment:n,onClose:()=>C(!1),teamId:null==n?void 0:null===(t=n.team)||void 0===t?void 0:t.id}):null,n&&h?(0,i.jsx)(B.Z,{active:E,deployment:n,onClose:()=>N(!1),teamId:n.team?n.team.id:null}):null,ex,eb,(0,i.jsx)(r(),{id:"c80f1be4e2f3117f",children:".button-tablet{width:100%}.button-tablet button,.button-tablet a.button,.button-tablet .cta-skeleton{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}.deployment-url-row{margin-top:0!important}"})]})});var th=(0,eu.ZP)(function(){let e=(0,c.useRouter)(),t=(0,s.useRef)(!1),{isLoggedOut:n}=(0,eA.n)(),l=(0,s.useRef)(3e3),[r,o]=(0,s.useState)([]),{redirect:u}=e.query,h=(0,es.Z)(),{data:p,error:m,mutate:x}=(0,J.ZP)(h,{refreshInterval:l.current},{automaticAliases:!0,gitRepo:!0}),{data:g}=(0,ei.PY)(null==p?void 0:p.projectId),y=null==p?void 0:p.readyState;l.current=(null==p?void 0:p.aliasAssigned)||"ERROR"===y||"CANCELED"===y?0:3e3;let{modal:j,open:f}=(0,er.Z)((null==p?void 0:p.projectId)||null,g),b=(0,s.useCallback)(()=>p?f(p):null,[f,p]),{areChecksRunning:w,areDomainsAssigning:k}=(0,ev.Z)(p),_=ex({readyState:null==p?void 0:p.readyState,otherBitsRunning:w||k,hasFailure:(null==p?void 0:p.checksConclusion)==="failed"||!!(null==p?void 0:p.aliasError)});(0,s.useEffect)(()=>{u&&!t.current&&p&&"READY"===y&&(t.current=!0,(0,eh.Z)(`https://${p.host}`))},[p,y,u]);let C=(0,ea.m)();if((0,s.useEffect)(()=>{(null==m?void 0:m.code)==="not_found"&&n&&d().replace(`/login?next=${encodeURIComponent((0,ed.J)())}`)},[m,n]),m){let e="not_found"===m.code&&n;e||(0,ec.Z)(m)}return(0,s.useEffect)(()=>{"ERROR"===y&&o([eb.Ss[0]])},[y]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a(),{children:[(0,i.jsx)("title",{children:(null==g?void 0:g.name)?`${g.name} â€“ Deployment Overview`:"Deployment Overview"}),_?(0,i.jsx)("link",{href:_,rel:"icon shortcut",type:"image/x-icon"},"active-favicon"):null]}),(0,i.jsx)(tu,{deployment:p,deploymentState:y,openRedeployModal:b,publicDeploymentWithNoAccess:"boolean"==typeof C?C:void 0},h),j,(0,i.jsxs)("div",{className:to().steps,children:[(0,i.jsxs)("div",{className:to().stepsHeader,children:[(0,i.jsx)(v.x,{as:"h1",className:to().stepsHeading,size:24,weight:600,children:"Deployment Status"}),(0,i.jsx)(V.z,{onClick:()=>{r.length>0?o([]):o(eb.Ss)},type:"secondary",children:r.length>0?"Collapse All":"Expand All"})]}),(0,i.jsx)(eb.Eb,{creationFlow:!1,deployment:p,enableLineHighlighting:!0,expandedSteps:r,mutateDeployment:x,onExpandedStepsChange:o})]})]})},{requireAuth:!1,pageName:"Deployment Overview",active:"Deployment",pageProps:{deployment:!0,dashboard:!1,noIndex:!0}})},570950:function(e,t,n){"use strict";n.r(t),n.d(t,{DotsMenu:function(){return _.Z},Table:function(){return v},TableCell:function(){return k},TableHead:function(){return x},TableRow:function(){return g}});var i=n(397458),l=n(917450),r=n.n(l),s=n(652983),o=n(14517),a=n(869480),c=n.n(a),d=n(436735);let u=e=>e.props.onClick,h=(e,t)=>{let n=0;return s.Children.map(e,e=>t(e)&&u(e)?(n+=1,s.cloneElement(e,{selectable:!0,even:n%2!=0})):e)},p=e=>{let{isRowType:t,...n}=e;return(0,i.jsxs)("tbody",{...n,className:"jsx-bcbab08ca9bd006a "+(n&&null!=n.className&&n.className||""),children:[h(n.children,t),(0,i.jsx)(r(),{id:"bcbab08ca9bd006a",children:"tbody.jsx-bcbab08ca9bd006a tr:not(:last-child) td{border-bottom:1px solid var(--accents-2)}thead+tbody.jsx-bcbab08ca9bd006a tr:last-child td{border-bottom:1px solid var(--accents-2)}tbody.jsx-bcbab08ca9bd006a td{color:var(--accents-6);font-size:14px}"})]})};p.propTypes={children:c().node};class m extends s.Component{static #e=(()=>{this.propTypes={children:c().node,className:c().string}})();render(){let{children:e,innerRef:t,...n}=this.props;return(0,i.jsx)("tr",{...n,ref:t,children:s.Children.map(e,(e,t)=>e?(0,s.cloneElement)(e,{column:t,tagName:"th"}):null)})}}var x=m,g=e=>{let{ariaRole:t="row",children:n,className:l="",disabled:r=!1,onClick:a,selectable:c=!1,...d}=e;return(0,i.jsx)("tr",{"aria-roledescription":t,className:(0,o.W)("row",{selectable:c,disabled:r},l),onClick:a,...d,children:s.Children.map(n,e=>e?(0,s.cloneElement)(e,{tagName:"td"}):null)})};function y(e,t){if(e){let n=[];return s.Children.forEach(e,(e,i)=>{t&&t.call(this,e,i)&&n.push(e)}),n}return[]}let j=e=>{let{children:t,className:n="",isHeadType:l=b,isRowType:s=f,innerRef:a,...c}=e,u=y(t,e=>(0,d.Z)("col",e)),h=y(t,l),m=y(t,s);return(0,i.jsxs)("table",{...c,ref:a,className:"jsx-2f714c4ae5073cc1 "+((0,o.W)("table",n)||""),children:[u.length>0&&(0,i.jsx)("colgroup",{className:"jsx-2f714c4ae5073cc1",children:u}),h.length>0&&(0,i.jsx)("thead",{className:"jsx-2f714c4ae5073cc1",children:h}),(0,i.jsx)(p,{isRowType:s,children:m}),(0,i.jsx)(r(),{id:"2f714c4ae5073cc1",children:"table.jsx-2f714c4ae5073cc1{border-collapse:separate;border-spacing:0;width:100%}table.jsx-2f714c4ae5073cc1 td:nth-child(1){border-left:1px solid transparent}table.jsx-2f714c4ae5073cc1 td:last-child{border-right:1px solid transparent}thead.jsx-2f714c4ae5073cc1 th:nth-child(1){border-bottom:1px solid var(--accents-2);border-left:1px solid var(--accents-2);-webkit-border-radius:4px 0px 0px 4px;-moz-border-radius:4px 0px 0px 4px;border-radius:4px 0px 0px 4px;border-top:1px solid var(--accents-2)}thead.jsx-2f714c4ae5073cc1 th:last-child{border-bottom:1px solid var(--accents-2);-webkit-border-radius:0 4px 4px 0;-moz-border-radius:0 4px 4px 0;border-radius:0 4px 4px 0;border-right:1px solid var(--accents-2);border-top:1px solid var(--accents-2)}thead.jsx-2f714c4ae5073cc1 th{background:var(--accents-1);border-bottom:1px solid var(--accents-2);border-top:1px solid var(--accents-2)}table.jsx-2f714c4ae5073cc1 th,table.jsx-2f714c4ae5073cc1 td{padding:0 10px;text-align:left;vertical-align:top}table.jsx-2f714c4ae5073cc1 th>div{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;min-height:40px;font-size:12px}table.jsx-2f714c4ae5073cc1 td>div{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;min-height:50px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row wrap;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap}table.jsx-2f714c4ae5073cc1 td.multi-line>div{min-height:none;padding:14px 0}table.jsx-2f714c4ae5073cc1 th{color:var(--accents-5);font-size:14px;font-weight:400;letter-spacing:0}table.jsx-2f714c4ae5073cc1 th.right>div,table.jsx-2f714c4ae5073cc1 td.right>div{-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}table.jsx-2f714c4ae5073cc1 th.center>div,table.jsx-2f714c4ae5073cc1 td.center>div{-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}table.jsx-2f714c4ae5073cc1 tr.disabled{pointer-events:none;opacity:.6}table.jsx-2f714c4ae5073cc1 tr.selectable{cursor:pointer}table.jsx-2f714c4ae5073cc1 tr.selectable:hover{background-color:#fcfcfc}@media(min-width:1024px){table.jsx-2f714c4ae5073cc1 td.instances-url{min-width:360px}}"})]})},f=e=>(0,d.Z)(g,e),b=e=>(0,d.Z)(x,e);j.propTypes={children:c().node,className:c().string,isHeadType:c().func,isRowType:c().func};var v=j,w=n(721098);class k extends s.Component{static #e=(()=>{this.propTypes={align:c().oneOf(["left","center","right"]),children:c().node,className:c().string,disabled:c().bool,innerRef:c().func,onClick:c().func,sorted:c().oneOf(["asc","desc"]),tagName:c().oneOf(["td","th"]),value:c().any}})();static #t=(()=>{this.defaultProps={tagName:"td"}})();render(){let{align:e,children:t,className:n,innerRef:l,disabled:r,sorted:a,tagName:c,...u}=this.props;return(0,s.createElement)(c,{...u,className:(0,o.W)("table-cell",{"head-cell":"th"===c,"row-cell":"td"===c,right:"right"===e,center:"center"===e,sorted:a,disabled:r},n),ref:l,onClick:this.handleClick},(0,d.Z)("div",t)?t:(0,s.createElement)("div",{},t,a&&(0,i.jsx)(w._,{})))}constructor(...e){super(...e),this.handleClick=e=>{this.props.onClick&&this.props.onClick(e,this.props.value)}}}var _=n(619859)},436735:function(e,t,n){"use strict";function i(e,t){return t&&t.type===e}n.d(t,{Z:function(){return i}})},472725:function(e,t,n){"use strict";n.d(t,{In:function(){return o},Y0:function(){return a},p5:function(){return s}});var i=n(73796),l=n(251743),r=n(294541);function s(e){return o(e.id)}function o(e){return e.startsWith("env")}function a(e){let{envVars:t,teamId:n,projectId:o}=e;return s(t[0])?function(e){let{envVars:t,teamId:n}=e;return(0,l.I)(`${i.Nc}${(0,r.c)({teamId:n})}`,{body:JSON.stringify({ids:t.map(e=>e.id)}),method:"DELETE",throwOnHTTPError:!0})}({envVars:t,teamId:n}):function(e){let{envVars:t,projectId:n,teamId:s}=e;return Promise.all(t.map(e=>(0,l.I)(`${(0,i.HJ)("v7")}/${n??""}/env/${e.id}${(0,r.c)({teamId:s})}`,{method:"DELETE",throwOnHTTPError:!0})))}({envVars:t,teamId:n,projectId:o})}},525938:function(e,t,n){"use strict";n.d(t,{Q:function(){return h}});var i=n(296638),l=n(652983),r=n(475846),s=n(777717),o=n(472725),a=n(73796),c=n(294541),d=n(251743),u=n(113583);function h(e,t,n){let[h,p]=(0,l.useState)(void 0),{cache:m}=(0,i.kY)(),{data:x}=function(e,t,n,l){let{isReady:h,team:p}=(0,s.t7)(),{can:m,isLoading:x}=(0,r.ZP)(),g=m(r.aU.Read,r._z.ProjectEnvVars),y=h&&!x&&g&&t&&n!==u.t.Sensitive,j="";return y&&((0,o.In)(t)?j=`${a.Nc}/${t}${(0,c.c)({teamId:null==p?void 0:p.id})}`:e&&(j=`${(0,a.HJ)("v1")}/${encodeURIComponent(e)}/env/${t}${(0,c.c)({teamId:null==p?void 0:p.id})}`)),(0,i.ZP)(j,e=>(0,d.I)(e,{throwOnHTTPError:!0}),void 0)}(n.projectId||n.projectName,null==h?void 0:h.id,null==h?void 0:h.type);return(0,l.useEffect)(()=>{var n;if(!h||!x||h.type===u.t.Sensitive)return;let i=null===(n=m.get(e))||void 0===n?void 0:n.data;if(0===i.envs.length)return;let l=[...i.envs],r=l.findIndex(e=>e.id===h.id),s=l[r];x.updatedAt&&s.updatedAt&&!(x.updatedAt<s.updatedAt)&&(l[r]=x,t({envs:l},!1),p(void 0))},[e,m,x,h,t]),{decryptEnvVar:p}}},713496:function(e,t,n){"use strict";n.d(t,{i:function(){return s},x:function(){return o}});var i=n(73796),l=n(251743),r=n(294541);async function s(e){let{projectIdOrName:t,teamId:n,body:s}=e;return(0,l.I)(`${(0,i.HJ)("v10")}/${t}/protection-bypass${(0,r.c)({teamId:n})}`,{method:"PATCH",body:JSON.stringify(s),throwOnHTTPError:!0})}async function o(e){let{aliasId:t,teamId:n,body:s}=e;return(0,l.I)(`${i.sL}/${t}/protection-bypass${(0,r.c)({teamId:n})}`,{method:"PATCH",body:JSON.stringify(s),throwOnHTTPError:!0})}},736934:function(e,t,n){"use strict";n.d(t,{R:function(){return i},u:function(){return l}});let i=(e,t)=>{if(!e.protectionBypass)return null;let n=Object.keys(e.protectionBypass).find(n=>{var i;return(null===(i=e.protectionBypass)||void 0===i?void 0:i[n].scope)===t});return n||null},l=(e,t)=>`${e}?_vercel_share=${t}`},574224:function(e,t,n){"use strict";n.d(t,{k:function(){return h},w:function(){return u}});var i=n(652983),l=n(296638),r=n(512959),s=n(251743),o=n(73796),a=n(294541),c=n(777717),d=n(151464);function u(e,t){if("string"==typeof e){let{data:n}=(0,d.ZP)(e);return(0,l.ZP)(()=>{let{team:e,id:t}=n;if(!t)throw Error("missing `id`");return`${(0,o.PP)("v2")}/${t}/aliases${(0,a.c)({teamId:e?e.id:null})}`},e=>(0,s.I)(e,{throwOnHTTPError:!0}),t)}if("object"==typeof e||void 0===e)return(0,l.ZP)(()=>{let{team:t,id:n,teamId:i}=e;if(!n)throw Error("missing `id`");return`${(0,o.PP)("v2")}/${n}/aliases${(0,a.c)({teamId:i??(t?t.id:null)})}`},e=>(0,s.I)(e,{throwOnHTTPError:!0}),t);throw Error("Wrong argument type")}function h(e,t){var n;let{limit:l=20,domains:a,rollbackDeploymentId:d}=e,{isReady:u,team:h}=(0,c.t7)(),m=(0,r.ZP)((e,t)=>{if(!u)return null;let n=`${o.sL}`,i=(null==a?void 0:a.map(e=>`domain=${encodeURIComponent(e)}`).join("&"))||null;if(!e)return`${n}${p({limit:l+1,teamId:null==h?void 0:h.id,rollbackDeploymentId:d},i)}`;let r=(null==t?void 0:t.aliases)&&t.aliases.length>l?t.aliases[l-1].createdAt:null;return r?`${n}${p({limit:l+1,teamId:null==h?void 0:h.id,until:r},i)}`:null},e=>(0,s.I)(e,{throwOnHTTPError:!0}),t),x=(0,i.useMemo)(()=>m.data?[].concat(...m.data.filter(Boolean).map(e=>e.aliases.slice(0,l))):[],[m.data,l]),g=!!m.data&&!m.error,y=!!(m.data&&0===x.length),j=!!(m.data&&m.size>m.data.length),f=m.data&&(null===(n=m.data[m.data.length-1])||void 0===n?void 0:n.aliases.length)<=l;return[m,{aliases:x,initialDataLoaded:g,isEmpty:y,loadMore:()=>m.setSize(e=>e+1),isLoadingMore:j,isReachingEnd:f}]}function p(e,t){let n=(0,a.c)(e,!1),i=t?`&${t}`:"";return n?`?${n}${i}`:`?${i}`}},54671:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(296638),l=n(251743),r=n(73796),s=n(294541),o=n(151464);function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"v10";if("string"==typeof e){let{data:n}=(0,o.ZP)(e);return(0,i.ZP)(()=>{let{team:e,id:i}=n;return`${(0,r.PP)(t)}/${i}${(0,s.c)({teamId:e?e.id:null})}`},e=>(0,l.Z)(e,{throwOnHTTPError:!0}),{revalidateOnFocus:!1})}if("object"==typeof e)return(0,i.ZP)(()=>{let{team:n,id:i,teamId:l}=e;return`${(0,r.PP)(t)}/${i}${(0,s.c)({teamId:n?n.id:l||null})}`},e=>(0,l.Z)(e,{throwOnHTTPError:!0}),{revalidateOnFocus:!1});throw Error("Wrong argument type")}},129730:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(652983),l=n(878191);function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",[t,n]=(0,i.useState)(!1),[r,s]=(0,i.useState)(!1);return e.startsWith("#")||(e="#"+e),(0,i.useEffect)(()=>{r||(window.location.hash!==e||t||n(!0),s(!0))},[t,e,r]),(0,i.useEffect)(()=>{r&&(window.location.hash!==e||t?window.location.hash!==e&&t&&(window.location.hash=e):window.history.replaceState(null,""," "))},[t,e,r]),(0,i.useEffect)(()=>{let i=()=>{window.location.hash!==e||t||n(!0)};return l.Router.events.on("hashChangeComplete",i),()=>l.Router.events.off("hashChangeComplete",i)},[t,e]),[t,n]}},409146:function(e,t,n){"use strict";n.d(t,{W:function(){return d},Z:function(){return c}});var i=n(296638),l=n(251743),r=n(73796),s=n(294541),o=n(777717),a=n(475846);function c(e,t){let{isReady:n,team:r}=(0,o.t7)(),{can:s,isLoading:c}=(0,a.ZP)(),u=s(a.aU.Read,a._z.ProjectEnvVars),h=e&&n&&!c&&u;return(0,i.ZP)(()=>h?d(e,null==r?void 0:r.id):"",e=>(0,l.I)(e,{throwOnHTTPError:!0}),t)}function d(e,t){return`${(0,r.HJ)("v9")}/${encodeURIComponent(e)}/env${(0,s.c)({teamId:t})}`}},49623:function(e,t,n){"use strict";n.d(t,{a:function(){return l}});var i=n(427494);let l=(0,i.H1)('<circle cx="12" cy="12" r="4"/><path d="M1.05 12H7"/><path d="M17.01 12h5.95"/>')},725429:function(e,t,n){"use strict";n.d(t,{r:function(){return l}});var i=n(427494);let l=(0,i.H1)('<path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/>')},158673:function(e,t,n){"use strict";n.d(t,{o:function(){return l}});var i=n(427494);let l=(0,i.H1)('<path d="M23 4v6h-6"/><path d="M1 20v-6h6"/><path d="M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"/>')},423764:function(e,t,n){"use strict";n.d(t,{m:function(){return l}});var i=n(427494);let l=(0,i.H1)('<path d="M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8"/><path d="M16 6l-4-4-4 4"/><path d="M12 2v13"/>')},875430:function(e,t,n){"use strict";n.d(t,{o:function(){return l}});var i=n(427494);let l=(0,i.H1)('<path d="M4 17l6-6-6-6"/><path d="M12 19h8"/>')},705820:function(e,t,n){"use strict";n.d(t,{n:function(){return l}});var i=n(427494);let l=(0,i.H1)('<path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/>')},447527:function(e){e.exports={aliasLink:"aliases_aliasLink__UHt8v"}},548377:function(e){e.exports={card:"deployment-card-small_card__TMtXZ",current:"deployment-card-small_current__JGku6",input:"deployment-card-small_input__2XdNV",icon:"deployment-card-small_icon__F04Qe",deploymentLink:"deployment-card-small_deploymentLink__ok4SD",branch:"deployment-card-small_branch__WiMU7",code:"deployment-card-small_code__bFW2M",gitAvatar:"deployment-card-small_gitAvatar__8b5EG","badge-current":"deployment-card-small_badge-current__YFOAN","badge-previous":"deployment-card-small_badge-previous__WpGOg"}},497668:function(e){e.exports={"rollback-modal":"rollback-modal_rollback-modal___Ilek","choose-deployment-btn":"rollback-modal_choose-deployment-btn__sEqIW","warning-list":"rollback-modal_warning-list__Li2Uu","alias-list":"rollback-modal_alias-list__CQLEA","deployment-link":"rollback-modal_deployment-link___I6s_"}},358467:function(e){e.exports={"enable-vercel-auth-button":"share-deployment_enable-vercel-auth-button__jDEm5",commentsCallout:"share-deployment_commentsCallout___cIfq","regenerate-shareable-link-wrapper":"share-deployment_regenerate-shareable-link-wrapper__AmdCJ","regenerate-shareable-link-button":"share-deployment_regenerate-shareable-link-button__46vfe",radioEntity:"share-deployment_radioEntity__uWg_D","radio-item":"share-deployment_radio-item__YHc7M","greyscale-avatar":"share-deployment_greyscale-avatar__VVK81",settingsButton:"share-deployment_settingsButton__fkBhX"}},569736:function(e){e.exports={deploymentSourceLinks:"styles_deploymentSourceLinks__UqPPa",line:"styles_line__033TR",hidden:"styles_hidden__0oCZH",visible:"styles_visible__aS4_s",subtle:"styles_subtle__B1tf9",linkWrapper:"styles_linkWrapper__mhRJW",tooltip:"styles_tooltip__6WakL",dirty:"styles_dirty__zbMdj"}},644609:function(e){e.exports={heading:"use-redeploy-modal_heading__v55wF",body:"use-redeploy-modal_body__WiJ4Q"}},911956:function(e){e.exports={ul:"list_ul__6hDBW",ol:"list_ol__R8ead",li:"list_li__E3ptA"}},531494:function(e){e.exports={code:"inline_code__eh_jc",nowrap:"inline_nowrap__DF6bB",truncate:"inline_truncate__EkNmM"}},263948:function(e){e.exports={title:"hero_title__62VIx",sm:"hero_sm__gO_z2",md:"hero_md__I8buH",lg:"hero_lg__l9tmk",avatar:"hero_avatar__MhKPB",header:"hero_header__1MQeg",center:"hero_center__96nll",actions:"hero_actions__gqyqA",controls:"hero_controls__wl6WP",menu:"hero_menu__uyIBu"}},85926:function(e){e.exports={wrapper:"loading-checkmark_wrapper__wzVmS"}},634974:function(e){e.exports={item:"radio_item__yFcZ1",check:"radio_check__uN0Im",icon:"radio_icon__5kxj0",text:"radio_text__kGaGM",disabled:"radio_disabled__b1G1v",input:"radio_input__4aj_W"}},37989:function(e){e.exports={screenshotAside:"styles_screenshotAside__Y4evL",bigger:"styles_bigger__Wc3Qk",deploymentInfo:"styles_deploymentInfo__zvdB4",domains:"styles_domains__1ML11",line:"styles_line__0kRDa",hidden:"styles_hidden__80d1Y",visible:"styles_visible__yUtJp",subtle:"styles_subtle__18iW3",linkWrapper:"styles_linkWrapper__o2F0H",tooltip:"styles_tooltip__9uTOw",steps:"styles_steps__g97_w",stepsHeader:"styles_stepsHeader__jkWSj",stepsHeading:"styles_stepsHeading___8Qk2",deploymentButton:"styles_deploymentButton__B9Orr"}},778069:function(e){e.exports={"info-note":"info-note_info-note__IcD5l","info-note-link":"info-note_info-note-link__SeigN"}},242598:function(e){e.exports={"warning-note":"warning-note_warning-note__bb7_x","warning-note-link":"warning-note_warning-note-link__ad_Tb"}}},function(e){e.O(0,[75178,82366,21562,53576,59974,58046,70666,93707,4369,17260,68552,66698,80540,94011,3024,10879,52112,63146,32888,31711,97258,65077,21893,49930,49774,92888,40179],function(){return e(e.s=2298)}),_N_E=e.O()}]);