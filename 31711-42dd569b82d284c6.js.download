"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[31711],{131711:function(e,i,n){n.d(i,{Z:function(){return N},j:function(){return _}});var r=n(397458),l=n(652983),t=n(665759),a=n(46838),o=n(23669),s=n(155593),d=n(236630),u=n(563790),c=n(557626),m=n(106193),v=n(115633),b=n(838739),g=n(73796),h=n(437296),x=n(421206),p=n(800359),y=n(749849),f=n(460589),j=n(244140),w=n(475846),C=n(358168),S=n(900658),k=n(863961),B=n(695345),I=n(595264);function N(){let e=(0,j.Z)(),{isLoading:i}=(0,w.ZP)();return!e||e.isLoading||!e.user||i?(0,r.jsx)(B.Z,{height:108}):(0,r.jsx)(D,{})}function _(e){var i,n;if(!(null==e?void 0:null===(i=e.billing)||void 0===i?void 0:i.plan))return null;let r=e.billing.plan,l=null===(n=e.resourceConfig)||void 0===n?void 0:n.concurrentBuilds;if("enterprise"===r&&l)return l;let t=x.bB[r];return("concurrentBuilds"in t?t.concurrentBuilds:null)||null}function D(){var e,i,n,a;let m=(0,j.Z)(),{can:x}=(0,w.ZP)(),B=x(w.aU.Update,w._z.ConcurrentBuilds),N=x(w.aU.Read,w._z.ConcurrentBuilds),{user:D,team:T}=m,A=T||D,E=null==A?void 0:null===(e=A.billing)||void 0===e?void 0:e.plan,M=(0,C.x)(),P=function(e){var i,n,r,l;let t=_(e),a=(null==e?void 0:null===(i=e.billing)||void 0===i?void 0:null===(n=i.invoiceItems)||void 0===n?void 0:null===(r=n.concurrentBuilds)||void 0===r?void 0:r.quantity)||(null==e?void 0:null===(l=e.resourceConfig)||void 0===l?void 0:l.concurrentBuilds)||null;return t&&a?t>a?t:a:null}(A),R=_(A),Z="enterprise"===E,z="pro"===E&&(null==A?void 0:null===(i=A.billing)||void 0===i?void 0:i.status)==="trialing",U=z?3:12,[O,$]=(0,l.useState)(null),[V,q]=(0,l.useState)(!1),[F,G]=(0,l.useState)(P),[Y,W]=(0,l.useState)(!1),J=(0,v.e1)(),K=!!(null==A?void 0:null===(n=A.billing)||void 0===n?void 0:n.invoiceItems),H=(0,l.useCallback)(async()=>{var e,i,n;let r=M.data,l=null==T?void 0:null===(e=T.billing)||void 0===e?void 0:null===(i=e.invoiceItems)||void 0===i?void 0:null===(n=i.concurrentBuilds)||void 0===n?void 0:n.quantity;try{$(null),q(!0);let e=new URLSearchParams(T?{teamId:T.id}:{});if(await (0,p.Z)(`${g.w}?${e}`,{method:"PUT",body:JSON.stringify({concurrentBuilds:F})}),await m.mutate(),F&&l){let e=F-l;e>0?b.co.track(b.s6.BILLING_ADDED_CONCURRENT_BUILD,{buildsAdded:e}):e<0&&b.co.track(b.s6.BILLING_REMOVED_CONCURRENT_BUILD,{buildsRemoved:Math.abs(e)})}J.success("Your Concurrent Builds have been updated.")}catch(e){$((0,t.SC)(e))}finally{q(!1)}for(;l&&l!==F&&M.data===r;)await new Promise(e=>setTimeout(e,1e3)),await M.mutate()},[T,F,m,J,M]),{enabled:Q,message:X,action:ee}=(0,f.Z)({name:"concurrentBuilds",options:{enable:(0,S._)(H)}}),ei=!B||Z,en=(0,l.useMemo)(()=>{if(K){var e,i,n;let r=null==A?void 0:null===(e=A.billing)||void 0===e?void 0:null===(i=e.invoiceItems)||void 0===i?void 0:null===(n=i.concurrentBuilds)||void 0===n?void 0:n.price;return"number"==typeof r?r:5e3}return 3500},[A,K]),er=(0,l.useMemo)(()=>{let e=((F||0)-(R||0))*en;return(e<0||Number.isNaN(e))&&(e=0),e},[R,F,en]),el=(0,l.useMemo)(()=>{var e;return(0,y.x)(er,null==A?void 0:null===(e=A.billing)||void 0===e?void 0:e.currency)},[A,er]),et=(0,l.useMemo)(()=>Z?"As an Enterprise customer, your configuration is predetermined.":B?`Your plan grants you ${R} free Concurrent Build${(R||0)>1?"s":""}.`:"You need additional permissions to manage your team's concurrent builds.",[Z,B,R]);return(0,r.jsxs)("div",{children:[(0,r.jsx)("form",{onSubmit:e=>{e.preventDefault(),0===er?H():W(!0)},children:(0,r.jsxs)(d.Fieldset,{disabled:ei,children:[(0,r.jsxs)(d.Content,{disabled:ei||!Q,children:[(0,r.jsx)(d.Title,{id:k.p.billing.concurrentBuilds,children:k.p.billing.concurrentBuilds}),(0,r.jsxs)(d.Subtitle,{children:["Determines how many builds you can run at the same time. By increasing the number (",(0,y.x)(en,null==A?void 0:null===(a=A.billing)||void 0===a?void 0:a.currency)," per Slot, per month), you are increasing the level of concurrency (maximum"," ",U,z?" while on trial":"",")."," ",(0,r.jsx)(c.r,{href:"/guides/why-are-my-vercel-builds-queued#adding-concurrent-builds",tab:!0,variant:"highlight",children:"Learn more."})]}),N?(0,r.jsx)("div",{style:{width:"260px"},children:(0,r.jsx)(u.I,{"aria-label":"Concurrent Builds",disabled:V,max:U,min:R||0,onChange:e=>G(parseInt(e.target.value)),suffix:(0,r.jsxs)("span",{style:{minWidth:"160px",display:"inline-block",textAlign:"center"},children:["Slot",(F||0)>1?"s":""," (",el," per Month)"]}),typeName:"number",value:(F||0).toString(),width:"100%"})}):(0,r.jsx)(I.Z,{})]}),(0,r.jsxs)(d.Footer,{disabled:!1,highlight:!Q||ei,children:[(0,r.jsx)(d.Footer.Status,{children:(null==O?void 0:O.message)?(0,r.jsx)(d.ErrorText,{children:(0,r.jsx)(s.Z,{error:O})}):X||et}),!ei&&(0,r.jsx)(d.Footer.Actions,{children:ee||(0,r.jsx)(o.z,{"data-testid":(0,h.C)("account-settings","billing","concurrent-save"),loading:V,size:"small",width:V?100:80,children:V?"Saving":"Save"})})]})]})}),(0,r.jsx)(L,{active:Y,onConfirm:(0,S._)(H),price:el,setActive:W})]})}function L(e){let{price:i,active:n,setActive:l,onConfirm:t}=e;return(0,r.jsxs)(m.Modal,{active:n,onClickOutside:()=>l(!1),width:"500px",children:[(0,r.jsx)(m.Body,{children:(0,r.jsxs)(a.K,{align:"flex-start",gap:6,children:[(0,r.jsx)(m.Title,{children:"Confirmation Required"}),(0,r.jsxs)(m.Subtitle,{children:["By clicking Confirm, an amount of ",i," will be added to your invoice and your credit card will be charged at the end of your next billing cycle."]})]})}),(0,r.jsxs)(m.Actions,{children:[(0,r.jsx)(m.Action,{loading:!1,onClick:()=>l(!1),type:"secondary",children:"Cancel"}),(0,r.jsx)(m.Action,{onClick:()=>{l(!1),t()},children:"Confirm"})]})]})}},595264:function(e,i,n){n.d(i,{C:function(){return s},Z:function(){return d}});var r=n(397458),l=n(917450),t=n.n(l),a=n(721098),o=n(303213);let s=e=>{let{width:i=100,style:n}=e;return(0,r.jsx)("div",{style:n,className:t().dynamic([["ea6e32287c706062",[i]]])+" bar",children:(0,r.jsx)(t(),{id:"ea6e32287c706062",dynamic:[i],children:`.bar.__jsx-style-dynamic-selector{max-width:${i}px;width:100%;height:16px;background-color:var(--accents-2);-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}`})})};function d(e){let{width:i=256,withChevronDown:n=!1}=e;return(0,r.jsxs)("div",{className:t().dynamic([["28c6fbdaab37e3df",[i]]])+" wrapper",children:[(0,r.jsxs)(o.Z,{row:!0,style:{justifyContent:"space-between"},children:[(0,r.jsx)(s,{width:n?.5*i:.64*i}),n?(0,r.jsx)(a._,{size:16}):null]}),(0,r.jsx)(t(),{id:"28c6fbdaab37e3df",dynamic:[i],children:`.wrapper.__jsx-style-dynamic-selector{max-width:${i}px;width:100%;height:40px;padding:7px var(--geist-gap-half);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-border-radius:var(--geist-radius);-moz-border-radius:var(--geist-radius);border-radius:var(--geist-radius);color:var(--themed-fg);background:var(--themed-bg);border:1px solid var(--themed-border,var(--accents-2))}`})]})}},863961:function(e,i,n){n.d(i,{$:function(){return l},p:function(){return r}});let r={general:{name:"Team Name",slug:"Team URL",avatar:"Team Avatar",previewDeploymentSuffix:"Preview Deployment Suffix",id:"Team ID",leaveTeam:"Leave Team",deleteTeam:"Delete Team"},billing:{plan:"Plan",paymentMethod:"Payment Method",concurrentBuilds:"Concurrent Builds",removeCaching:"Remove Caching",invoiceEmailRecipient:"Invoice Email Recipient",companyName:"Company Name",billingAddress:"Billing Address",invoiceLanguage:"Invoice Language",invoicePurchaseOrder:"Invoice Purchase Order",taxId:"Tax ID",analyticsSampling:"Speed Insights Sampling",monitoring:"Monitoring"},security:{teamEmailDomain:"Team Email Domain",auditLog:"Audit Log",environmentVariablePolicy:"Environment Variable Policy",samlSingleSignOn:"SAML Single Sign-On",hideIpAddresses:"IP Address Visibility"}},l={general:"General",billing:"Billing",invoices:"Invoices",members:"Members",security:"Security & Privacy",notifications:"My Notifications",environmentVariables:"Environment Variables",webhooks:"Webhooks",logDrains:"Log Drains",secureCompute:"Secure Compute"}}}]);