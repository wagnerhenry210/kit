(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[28044],{723122:function(e,t,i){"use strict";i.d(t,{Z:function(){return p}});var s=i(652983),o=i(63730),n=i(869480),r=i.n(n);function a(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{rootMargin:function(e){let t=(e||"0px").trim().split(/\s+/);return t.forEach(l),t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t.join(" ")}(t.rootMargin),threshold:Array.isArray(e=t.threshold)?e:[void 0!==e?e:0]}}function h(e,t){return d(t.rootMargin,e.rootMargin)&&d(t.threshold,e.thresholds)}function l(e){if(!/^-?\d*\.?\d+(px|%)$/.test(e))throw Error("rootMargin must be specified as a CSS margin property")}function d(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length?e.every((i,s)=>d(e[s],t[s])):e===t}i(16981);let u=function(){let e=new Map;function t(t){return e.has(t)?e.get(t):e.set(t,new Map).get(t)}function i(e,i){for(let s of e){let e=t(i),o=e.get(s.target);o&&o(s)}}return{getObserver:function(t){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=a(t);for(let t of e.keys())if(h(t,i))return t;return null}(t)||new IntersectionObserver(i,t)},observeTarget:function(e,i,s){let o=t(e);o.set(i,s),e.observe(i)},unobserveTarget:function(e,i){let s=t(e);s.delete(i),e.unobserve(i)}}}(),{getObserver:v}=u,{observeTarget:g}=u,{unobserveTarget:c}=u;class p extends s.Component{static #e=(()=>{this.propTypes={disabled:r().bool,once:r().bool,onIntersect:r().func.isRequired,rootMargin:r().string,threshold:r().oneOfType([r().arrayOf(r().number),r().number]),value:r().string}})();static #t=(()=>{this.defaultProps={disabled:!1,once:!1}})();componentDidMount(){this.observer=v(m(this.props)),this.observe()}componentDidUpdate(e){let t=m(this.props),i=a(t);h(this.observer,i)||(this.unobserve(),this.observer=v(t),this.shouldReobserve=!0),e.disabled&&!this.props.disabled&&(this.shouldReobserve=!0),!e.disabled&&this.props.disabled&&this.unobserve(),this.shouldReobserve&&(this.observe(),this.shouldReobserve=!1)}componentWillUnmount(){this.unobserve()}observe(){!this.props.disabled&&this.target&&g(this.observer,this.target,this.handleIntersect)}unobserve(){this.target&&c(this.observer,this.target)}render(){return(0,s.cloneElement)(s.Children.only(this.props.children),{ref:this.handleTarget})}constructor(...e){super(...e),this.shouldReobserve=!1,this.handleTarget=e=>{let t=e&&Object.prototype.hasOwnProperty.call(e,"getBoundingClientRect")?e:(0,o.findDOMNode)(e);this.target&&this.target!==t&&(this.unobserve(),this.shouldReobserve=!0),this.target=t},this.handleIntersect=e=>{this.props.onIntersect(e,this.props.value),this.props.once&&e.isIntersecting&&this.unobserve()}}}let m=e=>({rootMargin:e.rootMargin,threshold:e.threshold})},428044:function(e,t,i){"use strict";i.d(t,{Z:function(){return m}});var s=i(397458),o=i(652983),n=i(14517),r=i(386377),a=i(158709),h=i(723122),l=i(838739),d=i(424900),u=i(240579),v=i.n(u);let g=()=>{};class c extends o.Component{static #e=(()=>{this.defaultProps={onDrag:g,onDragStart:g,onDragEnd:g}})();render(){return(0,s.jsx)("div",{className:v().dragHandler,onMouseDown:this.startDrag,onMouseLeave:this.props.onMouseLeave,onMouseMove:this.handleIntentMove,onTouchStart:this.startDrag,ref:this.ref})}constructor(...e){super(...e),this.state={isDragging:!1},this.componentWillUnmount=()=>{this.endDrag()},this.ref=o.createRef(),this.startDrag=e=>{var t,i;this.setState({isDragging:!0}),window.addEventListener("mousemove",this.triggerRangeChange),window.addEventListener("touchmove",this.triggerRangeChange),window.addEventListener("mouseup",this.endDrag),window.addEventListener("touchend",this.endDrag),this.toggleSelection("none");let s=e?this.getValueFromMouseEvent(e):null;null===(i=(t=this.props).onDragStart)||void 0===i||i.call(t,s)},this.endDrag=e=>{var t,i;e&&this.triggerRangeChange(e),this.setState({isDragging:!1}),window.removeEventListener("mousemove",this.triggerRangeChange),window.removeEventListener("touchmove",this.triggerRangeChange),window.removeEventListener("mouseup",this.endDrag),window.removeEventListener("touchend",this.endDrag),this.toggleSelection("");let s=e?this.getValueFromMouseEvent(e):null;null===(i=(t=this.props).onDragEnd)||void 0===i||i.call(t,s)},this.handleIntentMove=e=>{this.state.isDragging||this.triggerIntent(e)},this.triggerIntent=e=>{e.persist(),this.props.onIntent&&requestAnimationFrame(()=>{var t,i;let s=this.getHorizontalValue(e.pageX);null===(i=(t=this.props).onIntent)||void 0===i||i.call(t,s)})},this.toggleSelection=e=>{let t=document.getElementsByTagName("body")[0];Object.assign(t.style,{userSelect:e,MozUserSelect:e,WebkitUserSelect:e,msUserSelect:e})},this.isMouseEvent=e=>void 0!==e.pageX,this.getValueFromMouseEvent=e=>{let t=this.isMouseEvent(e)?e.pageX:e.touches[0].pageX;return this.getHorizontalValue(t)},this.triggerRangeChange=e=>{var t,i;null===(i=(t=this.props).onDrag)||void 0===i||i.call(t,this.getValueFromMouseEvent(e))},this.getHorizontalValue=e=>{let t=this.ref.current;if(!t)return 0;let i=t.getBoundingClientRect(),s=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,o=e-(i.left+s);return(o=Math.min(o=Math.max(o,0),i.width))/i.width}}}class p extends o.Component{render(){let{width:e=600,margin:t=40,height:i,borderRadius:o=!1,controls:l=!0,playsInline:u=!0,oversize:g=!0,lazy:p=!0,muted:m=!0,autoPlay:f=window.matchMedia("(prefers-reduced-motion: no-preference)").matches,preload:y="auto",maxWidth:b}=this.props,_=String(i/e*100)+"%",D=this.state.src;return D&&D.indexOf("assets.vercel.com")>-1&&D.endsWith(".mp4")&&-1===D.indexOf("/vc_auto")&&(D=D.replace("upload/","upload/vc_auto/")),(0,s.jsx)(h.Z,{disabled:!p,onIntersect:this.handleIntersect,once:!0,rootMargin:"20%",children:(0,s.jsx)("figure",{className:(0,n.W)(v().figure,{[v().oversize]:e>750&&g}),"data-version":"v1",onMouseEnter:this.mouseMove,onMouseLeave:()=>{this.setState({controlsVisible:!1})},onMouseMove:this.mouseMove,style:{"--video-margin":(0,d.Z)(t),"--video-width":`min(${(0,d.Z)(e)}, 950px)`,maxWidth:b},children:(0,s.jsx)("div",{className:v().main,style:{width:e},children:(0,s.jsx)("div",{className:(0,n.W)(v().container,{[v().controlsVisible]:this.state.controlsVisible}),ref:e=>{this.vidContainer=e},style:{paddingBottom:_},children:this.state.src?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("video",{autoPlay:f,className:(0,n.W)(v().video,{[v().borderRadius]:o}),muted:m,onClick:()=>{this.video&&(this.video.paused?this.handlePlay():this.handlePause())},onEnded:this.handleEnded,onPause:this.handlePause,onPlay:this.handlePlay,onTimeUpdate:this.handleProgress,playsInline:u,preload:y,ref:this.setVideoRef,src:D}),l&&this.state.videoLoaded?(0,s.jsxs)("div",{className:v().videoControls,children:[this.state.videoPlaying?(0,s.jsx)("button",{className:v().play,onClick:this.handlePause,type:"button",children:(0,s.jsx)(r.d,{color:"var(--geist-foreground)",fill:!0,size:14})}):(0,s.jsx)("button",{className:v().play,onClick:this.handlePlay,type:"button",children:(0,s.jsx)(a.s,{color:"var(--geist-foreground)",fill:!0,size:14})}),(0,s.jsx)("div",{className:v().time,children:this.formatTime(this.state.videoCurrentTime)}),(0,s.jsxs)("div",{className:v().progress,children:[(0,s.jsx)(c,{onDrag:this.handleDrag,onDragEnd:this.handleDragEnd,onDragStart:this.handleDragStart,onIntent:this.handleIntent}),(0,s.jsx)("progress",{max:100,value:this.state.handlePosition}),(0,s.jsx)("div",{className:v().handle,style:{left:`${this.state.handlePosition}%`}})]}),(0,s.jsx)("div",{className:v().time,children:this.formatTime(this.state.videoDuration)})]}):null]}):null})})})})}constructor(...e){super(...e),this.video=null,this.vidContainer=null,this.playPromise=null,this.mouseTimer=null,this.state={src:this.props.lazy?void 0:this.props.src,isPlayable:!0,videoPlaying:!1,videoLoaded:!1,handlePosition:0,isDragging:!1,controlsVisible:!1,videoDuration:0,videoCurrentTime:0,videoAutoplay:!1,videoIsReady:!1,intentPosition:0,loops:0},this.componentWillUnmount=()=>{this.mouseTimer&&clearTimeout(this.mouseTimer)},this.handleIntersect=e=>{e.isIntersecting&&this.setState({src:this.props.src})},this.formatTime=e=>{let t=Math.floor(e/60);t=isNaN(t)?0:t;let i=String(t>=10?t:"0"+t);e=isNaN(e=Math.floor(e%60))?0:e;let s=String(e>=10?e:"0"+e);return i+":"+s},this.setVideoRef=e=>{this.video=e,this.onVideoLoaded()},this.onVideoLoaded=()=>{requestAnimationFrame(()=>{this.video&&this.video.readyState>=3?this.setState({videoLoaded:!0,videoAutoplay:this.video.autoplay,videoIsReady:!0,videoDuration:this.video.duration}):this.onVideoLoaded()})},this.handlePlay=()=>{try{this.playPromise=this.video.play()}catch(e){}this.playPromise&&this.playPromise.then(()=>{this.setState({videoPlaying:!0}),l.co.track(l.s6.CLICK_EVENT,{click_name:"play_video",click_value:`Play Video: ${this.props.src}`})}).catch(()=>{this.setState({videoPlaying:!1})})},this.handlePause=()=>{this.playPromise?this.playPromise.then(()=>{this.video.pause(),this.setState({videoPlaying:!1})}).catch(()=>{this.setState({videoPlaying:!0})}):(this.video.pause(),this.setState({videoPlaying:!1}))},this.handleProgress=()=>{if(this.state.isDragging)return;let e=this.video.currentTime;this.setState({videoCurrentTime:e,handlePosition:e/this.state.videoDuration*100})},this.handleDragStart=()=>{this.video&&this.setState({isDragging:!0})},this.handleDrag=e=>{this.video&&!isNaN(e)&&this.setState({handlePosition:100*e,intentPosition:this.state.videoDuration*e})},this.handleDragEnd=e=>{this.video&&null!==e&&!isNaN(e)&&(this.video.currentTime=this.state.videoDuration*e,this.setState({isDragging:!1}))},this.mouseMove=()=>{this.mouseTimer&&clearTimeout(this.mouseTimer),this.setState({controlsVisible:!0},()=>{this.mouseTimer=setTimeout(()=>{this.setState({controlsVisible:!1})},3e3)})},this.handleIntent=e=>{this.video&&!isNaN(e)&&this.setState({intentPosition:this.state.videoDuration*e})},this.handleEnded=()=>{if(!1===this.props.loop){this.handlePause();return}let e=this.state.loops;e<2?(this.handlePlay(),this.setState({loops:e+1})):(this.handlePause(),this.setState({videoPlaying:!1}))}}}var m=p},386377:function(e,t,i){"use strict";i.d(t,{d:function(){return o}});var s=i(427494);let o=(0,s.H1)('<rect x="6" y="4" width="4" height="16" fill="var(--geist-fill)"/><rect x="14" y="4" width="4" height="16" fill="var(--geist-fill)"/>',!0)},158709:function(e,t,i){"use strict";i.d(t,{s:function(){return o}});var s=i(427494);let o=(0,s.H1)('<polygon points="5 3 19 12 5 21 5 3" fill="var(--geist-fill)"/>',!0)},240579:function(e){e.exports={figure:"video_figure__Vb6Vw",main:"video_main__rNpuz","vide-controls":"video_vide-controls__Rxhq9",video:"video_video__eURan",borderRadius:"video_borderRadius__CmZfk",container:"video_container__Rtnsq",videoControls:"video_videoControls__vz5X3",controlsVisible:"video_controlsVisible__E354R",play:"video_play__YPGCr",progress:"video_progress__vH5ue",handle:"video_handle__OmDkL",thumb:"video_thumb__Dp8st",dragHandler:"video_dragHandler__LpBT9",time:"video_time__kAjuL",oversize:"video_oversize__3qxyR"}}}]);